{"cn/FAQ.html":{"url":"cn/FAQ.html","title":"新手必读","keywords":"","body":"FAQ Openpilot 一代硬件、二代硬件、二代硬件有什么区别？ Openpilot 硬件一览表 第二代相比较第一代有 2 个明显改进： 体积缩小了，panda 和 harness 变成了 2 个小黑盒子，giraffe 变成了线束，可以放进原车的 ACC 盒子里，第一代不行。 新增硬件 harness ，可以检测是否连接了EON，自动切换原车和 OP，而第一代需要手动拨动开关切换。 第三代硬件 Comma2 改进： 内置 Black Panda，前置红外摄像头，可以在夜间监控驾驶员是否安全驾驶。 移除了手机电池，避免设备长时间暴晒下的高温锂电池爆炸风险。 Openpilot 的主要特性包括哪些？ Openpilot 官方版本支持 车道保持 、ACC巡航、自动辅助变道。 车道保持：控制方向盘，使车辆保持在左右两车道正中间。 ACC巡航：检测前车、障碍物，根据前车速度调节车速（油门、刹车），与前车保持安全距离。 自动辅助变道：当驾驶员需要切换车道时，需要打开转向灯（常亮），确认变向车道安全后，然后朝变道方向轻推方向盘，车辆将驶向旁边车道，变道完成后，需要驾驶员关闭转向灯。 0.6.4 之后的版本在测试过程中发现，如果没有车道线情况下，会跟随前车轨迹行驶 如何购买 openpilot 硬件？ 参考： Openpilot 硬件购买篇 如何安装 openpilot 软件？ 参考： Windows 下一键安装 openpilot 教程 Windows 下手动安装 openpilot 教程 macOS 下手动安装 openpilot 教程 通过界面安装 openpilot 分支版本 使用 Putty SSH 切换 openpilot 分支版本 Openpilot 与 原车 Acc LKAS 的区别到底有多大？ 区别很大，例如本田原厂的LKA只能支持 3 度的横向控制，并且有撞线才拉回的感觉，openpilot完全没有，车自己保持在车道正中间，比雅阁自带的还要好很多很多，就像你自己开的一样稳。 0.6.4 之后的版本在测试过程中发现，如果没有车道线情况下，会 跟随前车轨迹行驶 Stop & Go 路况表现怎么样？ 在堵车排队的路况下，部分原车支持 ACC 排队的车型，支持较好，可以获得和原车一样的体验，当然也要注意防止加塞车辆没有被正确识别的情况。 原车不支持全速域ACC的情况下，可以尝试加装 hw-pedal，不过有一定的未知风险。 Openpilot 还不具备预碰撞缓解功能（AEB）？ Openpilot 软件本身暂时不支持 AEB 刹车，只能在激活自动驾驶的时候，检测到前方车辆或障碍物距离太近，提示用户或刹车减速。 通过 Supported Cars 表格的 Longitudinal 列，显示 Stock 的为使用原厂纵向控制，包括 ACC、AEB，显示 Yes 为 Openpilot 实现的纵向控制，暂时不支持 AEB。 如果原车支持 AEB 并且安装 Openpilot 后仍然使用的 原厂纵向控制（Longitudinal Stock），那么不影响原厂 AEB 功能 如果安装 Openpilot 后使用 Openpilot 纵向控制（Longitudinal YES），那么暂时不支持 AEB 功能 0.6.4 版本开始支持 本田 Nidec 系列的原厂AEB Openpilot 硬件设备可以启动车辆时自动开机，熄火时自动关机么？ EON 通电自动开机，熄火不会自动关机。 分支版本可以实现 USB 断电后延时关机，比如： dragonpilot 。 PS. 为了避免 EON 在阳光下长时间照射，带来分锂电池爆炸风险，需要每次停车从前挡风玻璃上取下来，相对繁琐，所以熄火自动关机变得不太那么重要，毕竟也不差这一步操作。 EON 可以一次性安装，以后上车即用么？ 如果你使用的是没有电池的 Comma 2，那么你可以把它一直挂在前挡风玻璃上，不用取下来。 但是如果你使用的是带有锂电池的手机（乐视3Pro 或 一加3T），那么建议每次停车从前挡风玻璃上取下来，避免 EON 在阳光下长时间照射，带来分锂电池爆炸风险。 openpilot 只能运行在一加 3T 手机上么，其他手机可以么？ 因为 openpilot 的路径预测程序使用了 高通的机器学习平台（SNPE），所以目前只针对 骁龙821 CPU 进行了适配，并且因为摄像头模块等原因，目前只适配了 一加 3T 和 乐视 3 pro 两个机型。 如果需要运行在高通处理器的其他手机上，你可能需要修改摄像头相关的驱动代码。 openpilot 目前已经可以运行在具有足够运算能力的电脑上了，Comma 官方 3月28日 在官方博客发布了 Self-Driving Car For Free，文章中指出，openpilot 代码中已经支了 TensorFlow 的模型，新的模型已经放出（只是目前训练数据有限，能力较 SNPE 模型较差），因此我们可以把 openpilot 运行在任何支持 TensorFlow 模型的平台上了（运算能力足够的前提下），经过社区开发者的尝试，目前来看 Jetson TX2 是目前比较合适的 DIY 硬件。 Copyright © all right reserved，powered by Gitbook本站已停止维护，本页最后更新： 2020-05-12 16:25:26 "},"cn/videos.html":{"url":"cn/videos.html","title":"相关视频","keywords":"","body":"相关视频 十代雅阁夜间行车 - 100km Hands Free Openpilot 和雅阁原厂 Honda Sensing 对比测试 高速路上大堵车！开启OP后全程托管、自动跟车 回城的路上遭遇交通事故大堵车，高速道路三车道堵了3公里，通过大约花了30分钟，使用十代雅阁加装 Openpilot，不用频繁的操作油门刹车，真的省心省力。 PS. 应急车道是不可能走的，如果有交通事故人员伤亡，这就是生命线。 Openpilot 新版硬件简介和安装（十代雅阁） George 在10.10凌晨6点（北京时间）公布了 openpilot 新版硬件 harness，我第一时间看了直播录像，觉得新硬件还是不错的，就下单了，到现在大概使用了一周时间，这里简单分享一下我的购买过程、装车效果和使用体验…… Windows 下一键安装 openpilot 全纪录 一加3T安装Openpilot自动驾驶系统安装过程全纪录 Openpilot 新版自动驾驶硬件安装视频 ( Harness ) openpilot带来了轻松愉快的驾驶体验 一加3T手机开启手机USB调试模式 如何使用 iPhone 通过 WiFi 热点 SSH 连接到 EON openpilot 其实是不怎么依赖车道线的 Openpilot 在无标线道路上，会远离路边停靠的车辆 Openpilot 064功能测试： 无车道线跟随前车轨迹行驶 分支：kegman-0.6.4   车型：本田雅阁2019 Openpilot test drive of Gernby's fork Copyright © all right reserved，powered by Gitbook本站已停止维护，本页最后更新： 2019-11-28 19:02:51 "},"mirror.html":{"url":"mirror.html","title":"国内镜像","keywords":"","body":"Openpilot 国内镜像 背景 因为 github.com 的访问速度较慢，Openpilot 源码较大（>600M），一些分支版本甚至超过1G，这让 Openpilot 的下载安装变得非常痛苦，基于以上原因，你可以使用以下镜像地址替换 github 地址。 来源 域名 github github.com cnpmjs github.com.cnpmjs.org 当你需要下载 官方版本时，只需要把 https://github.com/commaai/openpilot替换成 https://github.com.cnpmjs.org/commaai/openpilot 即可，其他分支相同。 地址列表 分支版本 git 地址 官方版本 https://github.com.cnpmjs.org/commaai/openpilot 官方中文版 https://github.com.cnpmjs.org/rming/openpilot dragonpilot https://github.com.cnpmjs.org/dragonpilot-community/dragonpilot Gernby https://github.com.cnpmjs.org/gernby/openpilot kegman https://github.com.cnpmjs.org/kegman/openpilot arne182 https://github.com.cnpmjs.org/arne182/ArnePilot raspberry-pilot https://github.com.cnpmjs.org/gernby/raspberry-pilot Copyright © all right reserved，powered by Gitbook本站已停止维护，本页最后更新： 2020-08-27 23:36:49 "},"cn/hardwares.html":{"url":"cn/hardwares.html","title":"常见硬件","keywords":"","body":"常见硬件 第一代硬件 名称 图片 链接 EON - Giraffe - Panda - Comma power - Comma smays - Debug board - Panda paw - 第二代硬件 名称 图片 链接 Harness connectors(黑色盒子是 harness) - Harness - Black panda - Comma power v2 - 第三代硬件 名称 图片 链接 Comma two(内置 Black panda) Copyright © all right reserved，powered by Gitbook本站已停止维护，本页最后更新： 2020-03-04 14:55:14 "},"cn/Glossary_of_terminology.html":{"url":"cn/Glossary_of_terminology.html","title":"常见术语","keywords":"","body":"常见术语 名称 别名 链接 解释 EON EON DevKit buy install 1+ 3T 手机 或者 乐视 3 pro 手机，加上3D打印的带有散热风扇的框架，手机上运行的是修改定制的 Android 系统，用来运行 Openpilot。 EON Gold LEON - 乐视 3 pro 版本的 EON。 NEOS - - 运行在 EON 手机上的系统，是基于 Android 定制修改的系统，在此系统基础上运行 Openpilot TWRP - 维基百科 Team Win Recovery Project是一个开放源码软件的定制恢复模式映像，供基于安卓的设备使用。它提供了一个支持触摸屏的界面，允许用户向第三方安装固件和备份当前的系统。因此，经常在root系统时安装，虽然它并不是root之后才能安装。 一加 3T OP3T 维基百科参数规格 上一代 EON 中使用的手机。由于供应不足，官方已停止使用。 乐视 Pro 3 Lepro, LeEco, x727 参数规格 EON 套件里的手机，x727 openpilot OP 维基百科 自动驾驶系统软件，主要由 Python、c++、java、React Native编写 dragonpilot DP, 龙芯驾驶辅助系统 github 基于 openpilot 的开源驾驶辅助系统。dragonpilot 的 fork Panda OBD-II Interface 熊猫, Panda buy CAN总线转USB的适配器，分灰熊猫（有报警度GPS，没有WIFI）、白熊猫（有WIFI，没有高精度GPS）2个版本 Giraffe connector 长颈鹿, Giraffe buy install 转接原车OBD接口出来，可以从中读取信息，不同车型设计了不同的版本 车道保持辅助系统 LKAS 维基百科百度百科 自动检测并操作转向，把车辆保持在车道内的系统。 自适应巡航控制 ACC 维基百科百度百科 汽车巡航控制系统，可以设定最高速度，系统自动调节车速，保持与前方车辆的安全距离。 驾驶辅助系统 ADAS 维基百科 百度百科 用于帮助驾驶员更好的驾驶车辆的辅助系统. 自动换道辅助系统 ALCA - 基于安全考虑，虽然在一些其他分支中实现了，但是在官方版本中尚未添加这个功能。 远光自动控制系统 AHB 百度百科 夜间行驶的时候，自动切换远近光，可以更清楚的看清道路，并根据前方是否有车，自动切换回近光，防止干扰其他车辆驾驶员 Bosch - 维基百科百度百科 汽车零件供应商，在讨论openpilot的时候，通常指汽车上的博世提供的汽车辅助系统硬件（比如 CRV 上的博世ACC硬件） Nidec - - 汽车零件供应商，在讨论openpilot的时候，通常指汽车上的Nidec提供的汽车辅助系统硬件（比如 2016+ 本田 Pilot）. OBD-II - 维基百科百度百科 车载自诊断系统 CAN总线 CAN, CAN bus 维基百科百度百科 为ECU之间通信提供了一种标准化协议的的通信方式 INDI - - 一种类似于 PIF、PID、LQR 的控制算法 LQR - - 一种和 INDI、PIF、PID 类似的控制算法 PID - 维基百科百度百科 一种类似 INDI、LQR、PIF 的控制算法。 PIF - - 一种类似于 INDI、LQR、PID 的控制算法，F 是指前级反馈 Advance-Angle - discord 一种与 LQR 类似的控制算法，使用EPS电机扭矩来计算更精确的转向角 Chffr - - 一个可以把手机当做行车记录仪的应用程序，2019年年中下架了。 Chffrplus - guide 安装在 EON DevKit 上的程序，可以当做行车记录仪使用。 Comma.ai - website Openpilot 背后的公司 Comma Connect - - A mobile app for Android and iOS Comma Pedal - 维基百科 一个可以使不支持 stop & go 功能的汽车支持全速域 ACC 功能的油门控制硬件，官方没有提供硬件销售和支持，但是可以在 OpenPilot 中使用。 Comma API - docs Comma Points - 维基百科 在官方平台上行使用并上传了行车记录，可以获得的积分奖励。 Comma Power - buy 使用汽车的 OBD-II 接口为 Giraffe 供电 Comma Prime Prime buy 官方的会员服务，一些额外的权益（比如永久行车记录的的存储）。 Driver Support Unit DSU - 丰田汽车上实现 巡航系统 和 紧急刹车制动 的嵌入式系统. 动态雷达巡航控制系统 DRCC - 使用前摄像头和前保险杠出的前雷达检测前车距离，保持驾驶员设定的安全距离，实现自适应巡航的系统。 电子控制单元 ECU 维基百科百度百科 汽车电子设备中的任何嵌入式系统，用于控制车辆中的一个或多个电气系统或子系统。 电子助力转向 EPS, EPAS 维基百科百度百科 传感器可以检测到转向角度和扭矩，通过一个连接到转向柱上的电机，系统可以控制电机提供转向扭矩，辅助驾驶员转向。 指纹信息 - discord creating 每个车型都不同的一组CAN总线信号数据，OpenPilot 可以通过它识别出当前车辆型号。 固件 - 维基百科 直接在诸如Panda之类的硬件上运行的底层软件。 刷机 - 维基百科 一种将固件写入硬件设备的方法。 fork custom fork 维基百科) 开发人员复制项目代码，然后在此基础上二次开发，新开发出来的项目代码就叫做fork FrEON OpenFrEON github \"Free EON\"... EON 的开源版本，项目里包含3D打印所需要的模型文件。由 @Chase#7213 设计 General Motors Local Area Network GMLAN 维基百科 通用汽车开发的CAN总线总线的超集。 heat sink heatsink 维基百科 被动冷却装置 hugging - - 车辆行驶过程中偏向于一侧车道线的情况 车道偏离报警系统 LDA - 在车道线清晰的情况下，通过摄像头判断车辆是否偏离车道，通过报警提示驾驶员，但是不会有其他辅助操作。 LiveParameters - - 在车辆上不断更新、学习的校准数据. 机器学习模型 model 维基百科百度百科 - Original Equipment Manufacturer OEM 维基百科百度百科 OEM 是受托厂商按来样厂商之需求与授权，按照厂家特定的条件而生产，所有的设计图等都完全依照来样厂商的设计来进行制造加工。 OpenStreetMap OSM 维基百科 一个开源项目，旨在创建一个免费的可编辑的世界地图。 Open-source software OSS 维基百科 开源软件 Panda Paw Paw buy 一种帮助为熊猫救砖的装置。 ping pong ping ponging - 想要保持在车道中间，但是车辆一会靠近左侧车道，一会靠近右侧车道，这种来回摇摆的情况较做 ping-pong 汽车防撞系统 PCS 维基百科 汽车防撞系统是一种利用通讯、控制与资讯科技侦测车辆周遭的动态状况，以辅助汽车驾驶人的安全科技。依各家车厂不同的命名，另有预防碰撞系统、前方碰撞预警系统、减少碰撞系统等异称。 Stop-and-Go SnG - 车辆在拥堵路况下，刹车停下来，然后再往前形式一段后停下来，这种情况叫做SnG，通常说拥堵路况下的驾驶模式 Snapdragon Neural Processing Engine SNPE dev info 美国高通公司出品的神经网络处理引擎，可运行于搭载了高通Zeroth机器智能平台的820芯片处理器，开发者可以在SNPE上搭建自己的深度学习网络模型 STL 文件 百度百科 3D模型文件，通常指用于3D打印的3D模型文件，比如 FrEON 中的框架、底座。 TensorFlow TF 维基百科百度百科 开源及机器学习引擎 丰田 Safety Sense 2 TSS-2 info TSS 2.0建立在以前的TSS-C和TSS-P套件的基础上,并由六个主动安全和驾驶员辅助系统组成：PCS，DRCC，LDA，AHB，RSA和LTA。 丰田 Safety Sense C TSS-C info 一种用于紧凑型车辆的高级主动安全套件，由主动安全和驾驶员辅助系统组成：PCS，DRCC，LDA和AHB。 丰田 Safety Sense P TSS-P info 适用于中型和大型车辆的高级主动安全套件，包括主动安全和驾驶员辅助系统：PCS，LDA和AHB。 Zorro Steering Sensor ZSS github 一个DIY角度传感器来替代TSS-P Toyota中使用的劣质传感器（尤其是Prius和Prius Prime出现问题） Copyright © all right reserved，powered by Gitbook本站已停止维护，本页最后更新： 2019-09-26 11:45:06 "},"cn/commands.html":{"url":"cn/commands.html","title":"常用命令","keywords":"","body":"常用命令 EON 私钥 -----BEGIN PRIVATE KEY----- MIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKYwggSiAgEAAoIBAQC+iXXq30Tq+J5N Kat3KWHCzcmwZ55nGh6WggAqECa5CasBlM9VeROpVu3beA+5h0MibRgbD4DMtVXB t6gEvZ8nd04E7eLA9LTZyFDZ7SkSOVj4oXOQsT0GnJmKrASW5KslTWqVzTfo2XCt Z+004ikLxmyFeBO8NOcErW1pa8gFdQDToH9FrA7kgysic/XVESTOoe7XlzRoe/eZ acEQ+jtnmFd21A4aEADkk00Ahjr0uKaJiLUAPatxs2icIXWpgYtfqqtaKF23wSt6 1OTu6cAwXbOWr3m+IUSRUO0IRzEIQS3z1jfd1svgzSgSSwZ1Lhj4AoKxIEAIc8qJ rO4uymCJAgMBAAECggEBAISFevxHGdoL3Z5xkw6oO5SQKO2GxEeVhRzNgmu/HA+q x8OryqD6O1CWY4037kft6iWxlwiLOdwna2P25ueVM3LxqdQH2KS4DmlCx+kq6FwC gv063fQPMhC9LpWimvaQSPEC7VUPjQlo4tPY6sTTYBUOh0A1ihRm/x7juKuQCWix Cq8C/DVnB1X4mGj+W3nJc5TwVJtgJbbiBrq6PWrhvB/3qmkxHRL7dU2SBb2iNRF1 LLY30dJx/cD73UDKNHrlrsjk3UJc29Mp4/MladKvUkRqNwlYxSuAtJV0nZ3+iFkL s3adSTHdJpClQer45R51rFDlVsDz2ZBpb/hRNRoGDuECgYEA6A1EixLq7QYOh3cb Xhyh3W4kpVvA/FPfKH1OMy3ONOD/Y9Oa+M/wthW1wSoRL2n+uuIW5OAhTIvIEivj 6bAZsTT3twrvOrvYu9rx9aln4p8BhyvdjeW4kS7T8FP5ol6LoOt2sTP3T1LOuJPO uQvOjlKPKIMh3c3RFNWTnGzMPa0CgYEA0jNiPLxP3A2nrX0keKDI+VHuvOY88gdh 0W5BuLMLovOIDk9aQFIbBbMuW1OTjHKv9NK+Lrw+YbCFqOGf1dU/UN5gSyE8lX/Q FsUGUqUZx574nJZnOIcy3ONOnQLcvHAQToLFAGUd7PWgP3CtHkt9hEv2koUwL4vo ikTP1u9Gkc0CgYEA2apoWxPZrY963XLKBxNQecYxNbLFaWq67t3rFnKm9E8BAICi 4zUaE5J1tMVi7Vi9iks9Ml9SnNyZRQJKfQ+kaebHXbkyAaPmfv+26rqHKboA0uxA nDOZVwXX45zBkp6g1sdHxJx8JLoGEnkC9eyvSi0C//tRLx86OhLErXwYcNkCf1it VMRKrWYoXJTUNo6tRhvodM88UnnIo3u3CALjhgU4uC1RTMHV4ZCGBwiAOb8GozSl s5YD1E1iKwEULloHnK6BIh6P5v8q7J6uf/xdqoKMjlWBHgq6/roxKvkSPA1DOZ3l jTadcgKFnRUmc+JT9p/ZbCxkA/ALFg8++G+0ghECgYA8vG3M/utweLvq4RI7l7U7 b+i2BajfK2OmzNi/xugfeLjY6k2tfQGRuv6ppTjehtji2uvgDWkgjJUgPfZpir3I RsVMUiFgloWGHETOy0Qvc5AwtqTJFLTD1Wza2uBilSVIEsg6Y83Gickh+ejOmEsY 6co17RFaAZHwGfCFFjO76Q== -----END PRIVATE KEY----- SSH 连接 # 把 EON 私钥 保存到文件 eonkey.pem echo \"-----BEGIN PRIVATE KEY----- MIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKYwggSiAgEAAoIBAQC+iXXq30Tq+J5N Kat3KWHCzcmwZ55nGh6WggAqECa5CasBlM9VeROpVu3beA+5h0MibRgbD4DMtVXB t6gEvZ8nd04E7eLA9LTZyFDZ7SkSOVj4oXOQsT0GnJmKrASW5KslTWqVzTfo2XCt Z+004ikLxmyFeBO8NOcErW1pa8gFdQDToH9FrA7kgysic/XVESTOoe7XlzRoe/eZ acEQ+jtnmFd21A4aEADkk00Ahjr0uKaJiLUAPatxs2icIXWpgYtfqqtaKF23wSt6 1OTu6cAwXbOWr3m+IUSRUO0IRzEIQS3z1jfd1svgzSgSSwZ1Lhj4AoKxIEAIc8qJ rO4uymCJAgMBAAECggEBAISFevxHGdoL3Z5xkw6oO5SQKO2GxEeVhRzNgmu/HA+q x8OryqD6O1CWY4037kft6iWxlwiLOdwna2P25ueVM3LxqdQH2KS4DmlCx+kq6FwC gv063fQPMhC9LpWimvaQSPEC7VUPjQlo4tPY6sTTYBUOh0A1ihRm/x7juKuQCWix Cq8C/DVnB1X4mGj+W3nJc5TwVJtgJbbiBrq6PWrhvB/3qmkxHRL7dU2SBb2iNRF1 LLY30dJx/cD73UDKNHrlrsjk3UJc29Mp4/MladKvUkRqNwlYxSuAtJV0nZ3+iFkL s3adSTHdJpClQer45R51rFDlVsDz2ZBpb/hRNRoGDuECgYEA6A1EixLq7QYOh3cb Xhyh3W4kpVvA/FPfKH1OMy3ONOD/Y9Oa+M/wthW1wSoRL2n+uuIW5OAhTIvIEivj 6bAZsTT3twrvOrvYu9rx9aln4p8BhyvdjeW4kS7T8FP5ol6LoOt2sTP3T1LOuJPO uQvOjlKPKIMh3c3RFNWTnGzMPa0CgYEA0jNiPLxP3A2nrX0keKDI+VHuvOY88gdh 0W5BuLMLovOIDk9aQFIbBbMuW1OTjHKv9NK+Lrw+YbCFqOGf1dU/UN5gSyE8lX/Q FsUGUqUZx574nJZnOIcy3ONOnQLcvHAQToLFAGUd7PWgP3CtHkt9hEv2koUwL4vo ikTP1u9Gkc0CgYEA2apoWxPZrY963XLKBxNQecYxNbLFaWq67t3rFnKm9E8BAICi 4zUaE5J1tMVi7Vi9iks9Ml9SnNyZRQJKfQ+kaebHXbkyAaPmfv+26rqHKboA0uxA nDOZVwXX45zBkp6g1sdHxJx8JLoGEnkC9eyvSi0C//tRLx86OhLErXwYcNkCf1it VMRKrWYoXJTUNo6tRhvodM88UnnIo3u3CALjhgU4uC1RTMHV4ZCGBwiAOb8GozSl s5YD1E1iKwEULloHnK6BIh6P5v8q7J6uf/xdqoKMjlWBHgq6/roxKvkSPA1DOZ3l jTadcgKFnRUmc+JT9p/ZbCxkA/ALFg8++G+0ghECgYA8vG3M/utweLvq4RI7l7U7 b+i2BajfK2OmzNi/xugfeLjY6k2tfQGRuv6ppTjehtji2uvgDWkgjJUgPfZpir3I RsVMUiFgloWGHETOy0Qvc5AwtqTJFLTD1Wza2uBilSVIEsg6Y83Gickh+ejOmEsY 6co17RFaAZHwGfCFFjO76Q== -----END PRIVATE KEY-----\" > eonkey.pem # 为私钥设置权限 chmod 600 eonkey.pem # 假设你的 EON ip 是 192.168.1.100(通常可以在路由器中查到) ssh root@192.168.1.100 -p 8022 -i eonkey.pem openpilot 编译 # 移除已经编译文件 git clean -xdf # 移除 git 修改 git reset --hard HEAD # 切换分支 git checkout 0.6.6-zhs # 切换分支并重新编译 # 0.7 之前的版本使用 make 代替 scons -i cd /data/openpilot && git clean -xdf && git reset --hard HEAD && git checkout 0.7.3-zhs && scons -i && reboot 挂载 system 分区 # 重新挂载 system 分区为读写权限 mount -o rw,remount /system # 重新挂载 system 分区为只读权限 mount -o ro,remount /system 打开系统界面/软件界面 # 在 EON 的 shell 中运行 # 打开系统设置 am start -a android.settings.SETTINGS # 关闭系统设置 (kill) ps aux | grep settings| grep -v grep|awk '{print $1}' |xargs kill # 打开开发者选项 am start -a android.settings.APPLICATION_DEVELOPMENT_SETTINGS am start -n ai.comma.plus.offroad/.MainActivity 打开软件包指定的界面： am start -n {PACKAGE NAME}/.{ACTIVITY NAME} 打开系统界面： am start -a {ACTION CONSTANT} SETTINGS CONSTANTS settings 获取设备属性选项 # 获取所有配置选项，ro 开头的是只读 getprop # 获取 IMEI getprop oem.device.imeicache # 获取 serialno getprop ro.serialno # 获取 把 IMEI 设置为 517923590773528 setprop oem.device.imeicache 517923590773528 # 设置时区为上海东八区 setprop persist.sys.timezone Asia/Shanghai 获取设置系统配置 # 在 EON 的 shell 中运行 settings list global settings list system settings list secure usage: settings [--user NUM] [--cm] get namespace key settings [--user NUM] [--cm] put namespace key value settings [--user NUM] [--cm] delete namespace key settings [--user NUM] [--cm] list namespace 'namespace' is one of {system, secure, global}, case-insensitive If '--user NUM' is not given, the operations are performed on the owner user. If '--cm' is given, the operations are performed on the CMSettings provider. 软件包管理 # 显示软件包列表 pm list packages -f #卸载软件包 pm uninstall ai.comma.plus.offroad #安装软件包 pm install /sdcard/apk/ai.comma.plus.offroad.apk 查看网卡信息 # 查看网卡信息 ifconfig -a ip addr show git代理设置 # http 代理地址 192.168.1.101:1087 # 代理可以是设置在同局域网的电脑上，也可以是公网服务器上 git clone https://github.com/commaai/openpilot.git --config \"http.proxy=192.168.1.101:1087\" Termux 包管理 pkg search pkg show pkg list-all pkg list-installed pkg install pkg reinstall pkg uninstall apt list --upgradable pkg upgrade pkg help Copyright © all right reserved，powered by Gitbook本站已停止维护，本页最后更新： 2020-03-06 10:35:14 "},"cn/openpilot_releases.html":{"url":"cn/openpilot_releases.html","title":"更新记录[中文翻译]","keywords":"","body":"Openpilot 版本更新记录 更新记录[英文原版] Version 0.7.6 (2020-06-05) 白熊猫即将被废弃，请升级为 comma 2 或者 黑熊猫 支持日产奇骏 2017, 聆风 2018-19 和 Rogue 2019（感谢 avolmensky） 支持马自达 CX-5 2017（仅录像模式，感谢 Jafaral） 通过使用 thneed 在模型中节约了大量 CPU 计算 大量的代码精简重构 Version 0.7.5 (2020-05-13) 支持右舵车型的驾驶员监控 更新驾驶模型: 改进急转弯路况驾驶和前车速度检测 更新驾驶员监控模型：Comma 2 上的整体改进 在设置中新增前置摄像头预览开关，方便调整设备安装位置 新增一些现代、起亚、Genesis 车型支持（感谢 xx979xx） 支持日产奇骏 2019、日产聆风 2018（感谢 avolmensky） 改进丰田 Rav4 2020 车型的横向控制 Version 0.7.4 (2020-03-20) 更新驾驶模型: 改进切换车道和前车检测 更新驾驶员监控模型: 改进眨眼检测 提高车辆校准稳定性 改进丰田普锐斯 2019、2020 车型上的横向控制 改进大众高尔夫车型上的横向控制：增加 20％ 转向扭矩 修复丰田 CHR 2017、2018 车型上误用转向角传感器的问题 支持本田 Insight （感谢 theantihero） 精简代码（车辆抽象 和 UI 部分） Version 0.7.3 (2020-02-21) 改进后置摄像头的自动对焦 支持丰田汉兰达 2020（感谢 che220） 支持雷克萨斯 NX 300h 2018 （感谢 kengggg） 提升 ECU 固件查询速度 修复停车熄火后，设备进程管理会挂掉的问题 Version 0.7.2 (2020-02-07) 基于ECU固件版本的指纹识别（丰田、本田车型） 更新驾驶模型: 改善弯道和车道变换期间的路径预测并更好地追踪前车车速 改善极端光线条件下的驾驶员监控，添加无法准确监控的警告 支持丰田 Rav4 2019 混动（感谢 illumiN8i） 支持雷克萨斯 RX 2016, 2017, 2020（感谢 illumiN8i） 支持克莱斯勒 Pacifica 2020 混动（感谢 adhintz） Version 0.7.1 (2020-01-20) 支持 comma two 硬件 支持自动变道辅助（需车速大于 70km/h） 使用自定义的 msgq 代替 zmq Supercombo model: 校准和驾驶模型合并以后，可以更好的检测前车 更健壮的升级程序，需要升级 NEOS （感谢 jyoung8607） 改进低速 ACC 调教 Version 0.7 (2019-12-13) 开始使用 SCons 构建系统 为所有支持的车型添加车道偏离预警（LDW）功能 NEOS 更新：提高 WiFi 速度（感谢 jyoung8607） 基于场景的自适应驾驶员监控 基于端到端模式训练的新驾驶模型：改善车道线检测 和 前车检测 更加智能的转向扭矩限制警告 改进通用车型的纵向控制: 使用正确的计算方法处理 15Hz 雷达数据 把通用车型的适配、丰田断开 DSU 模块模式、comma 电子油门踏板 加入到社区功能（需要启用开关） 移除 \"通过 SIM 卡流量上传\" 的开关：非 WiFi 环境下，只上传 qlog 和 qcamera 文件 重构 Panda 代码，符合 ISO26262 和 SIL2 标准 支持本田 Nidec 系列车型前方碰撞预警系统（FCW）信号的转发 大众汽车适配成为标准：comma Harness 可以拦截原厂摄像头数据 Version 0.6.6 (2019-11-05) 支持大众车型（感谢 jyoung8607） 支持丰田卡罗拉混动（TSS 2.0）（感谢 u8511049） 支持雷克萨斯 ES（TSS 2.0）（感谢 energee） 修复了通用车型的点火检测问题，不再需要锁定安全模式 记录并显示 Panda 固件版本和 Panda Dongle ID（感谢 martinl） 使用新的驾驶模型: 改进路径预测和前车检测 新的驾驶员监控模型，体积缩小了 4 倍，可以运行在 DSP 上 如果 Panda 的固件错误，则显示警告并不启动 openpilot 修复了 EON 在驾驶结束后终止进程的问题 不再支持没有 120 欧姆电阻的丰田 giraffe Version 0.6.5 (2019-10-07) NEOS 更新：升级到 Python3 并且 更新了安装程序 支持新版本硬件（comma Harness） 使用新的驾驶模型: 横向控制对车道线的依赖性降低 使用新的驾驶员监控模型: 更准确的面部识别和眼部检测 重新设计 EON 停车模式的显示界面，可以用来显示更新和警告 提高允许的最大加速度上限 3天没有启动车辆，切断EON 供电，防止汽车电池电量耗尽 支持雷克萨斯 CT 混动车系（感谢 thomaspich） 紧急警告时使用更大报警音量 添加切换到行车记录仪模式的开关 修复在没有 DSU 的丰田车型上“无效的车辆参数”的报错问题 Version 0.6.4 (2019-09-08) 支持本田 Nidec 系列车型自动刹车辅助系统（AEB）信号的转发 改进在倾斜路面工况下的车道保持 不间断防撞预警系统 不间断驾驶状态监控（除了在右舵驾驶的国家） 驾驶状态监控学习用户的正常驾驶姿势 支持本田飞度车系（感谢 energee） 支持雷克萨斯IS车系 Version 0.6.3 (2019-08-12) 通过 EON 发出声音警告（需要更新 NEOS 系统） 改进驾驶状态监控：眼动追踪和改进的意识逻辑 使用新的驾驶模型改进路径预测 改进在宽车道和道路出口工况下的车道定位 改进 RAV4 的横向控制 通过数据模型进行减速过弯 使用开源回归测试以验证输出与参考日志 使用开源回归测试合理检查所有车型 Version 0.6.2 (2019-07-29) 新的自动驾驶模型！ 使用双实线改善车道跟踪 极大改进了静止车辆检测 极大减少了因为错误识别导致的制动 弯道工况下更好的引导线跟踪 利用神经网络改进车辆变道加塞预测 改进丰田凯美瑞和C-HR的横向控制（感谢 zorrobyte） 修复吉普车型上Openpilot异常断开控制的情况（感谢 adhintz） 修复汽车熄火时延时过度到停车状态的问题 Version 0.6.1 (2019-07-21) comma 会员可以通过ssh.comma.ai进行远程 SSH 访问 panda 代码 Misra-c2012 符合规定，针对覆盖率进行了测试 驾驶员注意力不集中或没有响应，在 3 次警告后，openpilot 锁定 支持丰田 Sienna（感谢 wocsor） Version 0.6 (2019-07-01) 新的模型，2倍像素、相同时间下十倍效率 在正确的车道线上时，车辆不应该驶出 openpilot 的CPU使用率从 75% 降到大约 65% 0.2% 的数据（qlogs）上传后，即可在浏览器中看到行驶路线图 loggerd 和 sensord 模块也开源了，现在 openpilot 的所有代码都是开源的 panda 安全代码符合MISRA标准，并在发布版本中有已签名版本 新的 NEOS 系统比以前小了 500MB，并且 usr/pipenv 可以复用 支持雷克萨斯 ES 混动车型（感谢 wocsor） 改进对已支持的丰田 TSS2 车型的调教 其他一些稳定性改进 Version 0.5.13 (2019-05-31) 当汽车关闭时（不适用于GM），熊猫耗电量降低70％，降至80mW 汽车关闭时，EON功耗降低40％，降至1100mW 将CPU利用率降低20％并提高稳定性 暂时删除已映射的功能以提高稳定性 为不支持的汽车添加 openpilot 行车记录模式 将 controlsd 同步到 boardd 以减少延迟 删除斯巴鲁长颈鹿的熊猫支持 Version 0.5.12 (2019-05-16) 改善普锐斯和普锐斯Prime的横向控制 在写入磁盘之前压缩日志 当存储空间达到 90％ 时，删除旧的驾驶数据 修复跟随距离的小偏移 各种小型 CPU 优化 改善停车模式的功耗（需要 NEOS 更新） 为爱沙尼亚添加默认速度限制（感谢 martinl） 支持斯巴鲁 Crosstrek （感谢martinl） 支持丰田亚洲龙（Avalon）（感谢njbrown09） 支持丰田 Rav4 TSS 2.0（感谢 wocsor） 支持丰田卡罗拉 TSS 2.0（感谢 wocsor） Version 0.5.11 (2019-04-17) Add support for Subaru Reduce panda power consumption by 60% when car is off Fix controlsd lag every 6 minutes. This would sometimes cause disengagements Fix bug in controls with new angle-offset learner in MPC Reduce cpu consumption of ubloxd by rewriting it in C++ Improve driver monitoring model and face detection Improve performance of visiond and ui Honda Passport 2019 support Lexus RX Hybrid 2019 support thanks to schomems! Improve road selection heuristic in mapd Add Lane Departure Warning to dashboard for Toyota thanks to arne182 Version 0.5.10 (2019-03-19) Self-tuning vehicle parameters: steering offset, tire stiffness and steering ratio Improve longitudinal control at low speed when lead vehicle harshly decelerates Fix panda bug going unexpectedly in DCP mode when EON is connected Reduce white panda power consumption by 500mW when EON is disconnected by turning off WIFI New Driver Monitoring Model Support QR codes for login using comma connect Refactor comma pedal FW and use CRC-8 checksum algorithm for safety. Reflashing pedal is required. Please see #hw-pedal on discord for assistance updating comma pedal. Additional speed limit rules for Germany thanks to arne182 Allow negative speed limit offsets Version 0.5.9 (2019-02-10) Improve calibration using a dedicated neural network Abstract planner in its own process to remove lags in controls process Improve speed limits with country/region defaults by road type Reduce mapd data usage with gzip thanks to eFiniLan Zip log files in the background to reduce disk usage Kia Optima support thanks to emmertex! Buick Regal 2018 support thanks to HOYS! Comma pedal support for Toyota thanks to wocsor! Note: tuning needed and not maintained by comma Chrysler Pacifica and Jeep Grand Cherokee support thanks to adhintz! Version 0.5.8 (2019-01-17) Open sourced visiond Auto-slowdown for upcoming turns Chrysler/Jeep/Fiat support thanks to adhintz! Honda Civic 2019 support thanks to csouers! Improve use of car display in Toyota thanks to arne182! No data upload when connected to Android or iOS hotspots and \"Enable Upload Over Cellular\" setting is off EON stops charging when 12V battery drops below 11.8V Version 0.5.7 (2018-12-06) Speed limit from OpenStreetMap added to UI Highlight speed limit when speed exceeds road speed limit plus a delta Option to limit openpilot max speed to road speed limit plus a delta Cadillac ATS support thanks to vntarasov! GMC Acadia support thanks to CryptoKylan! Decrease GPU power consumption NEOSv8 autoupdate Version 0.5.6 (2018-11-16) Refresh settings layout and add feature descriptions In Honda, keep stock camera on for logging and extra stock features; new openpilot giraffe setting is 0111! In Toyota, option to keep stock camera on for logging and extra stock features (e.g. AHB); 120Ohm resistor required on giraffe. Improve camera calibration stability More tuning to Honda positive accelerations Reduce brake pump use on Hondas Chevrolet Malibu support thanks to tylergets! Holden Astra support thanks to AlexHill! Version 0.5.5 (2018-10-20) Increase allowed Honda positive accelerations Fix sporadic unexpected braking when passing semi-trucks in Toyota Fix gear reading bug in Hyundai Elantra thanks to emmertex! Version 0.5.4 (2018-09-25) New Driving Model New Driver Monitoring Model Improve longitudinal mpc in mid-low speed braking Honda Accord hybrid support thanks to energee! Ship mpc binaries and sensibly reduce build time Calibration more stable More Hyundai and Kia cars supported thanks to emmertex! Various GM Volt improvements thanks to vntarasov! Version 0.5.3 (2018-09-03) Hyundai Santa Fe support! Honda Pilot 2019 support thanks to energee! Toyota Highlander support thanks to daehahn! Improve steering tuning for Honda Odyssey Version 0.5.2 (2018-08-16) New calibration: more accurate, a lot faster, open source! Enable orbd Add little endian support to CAN packer Fix fingerprint for Honda Accord 1.5T Improve driver monitoring model Version 0.5.1 (2018-08-01) Fix radar error on Civic sedan 2018 Improve thermal management logic Alpha Toyota C-HR and Camry support! Auto-switch Driver Monitoring to 3 min counter when inaccurate Version 0.5 (2018-07-11) Driver Monitoring (beta) option in settings! Make visiond, loggerd and UI use less resources 60 FPS UI Better car parameters for most cars New sidebar with stats Remove Waze and Spotify to free up system resources Remove rear view mirror option Calibration 3x faster Version 0.4.7.2 (2018-06-25) Fix loggerd lag issue No longer prompt for updates Mitigate right lane hugging for properly mounted EON (procedure on wiki) Version 0.4.7.1 (2018-06-18) Fix Acura ILX steer faults Fix bug in mock car Version 0.4.7 (2018-06-15) New model! GM Volt (and CT6 lateral) support! Honda Bosch lateral support! Improve actuator modeling to reduce lateral wobble Minor refactor of car abstraction layer Hack around orbd startup issue Version 0.4.6 (2018-05-18) NEOSv6 required! Will autoupdate Stability improvements Fix all memory leaks Update C++ compiler to clang6 Improve front camera exposure Version 0.4.5 (2018-04-27) Release notes added to the update popup Improve auto shut-off logic to disallow empty battery Added onboarding instructions Include orbd, the first piece of new calibration algorithm Show remaining upload data instead of file numbers Fix UI bugs Fix memory leaks Version 0.4.4 (2018-04-13) EON are flipped! Flip your EON's mount! Alpha Honda Ridgeline support thanks to energee! Support optional front camera recording Upload over cellular toggle now applies to all files, not just video Increase acceleration when closing lead gap User now prompted for future updates NEO no longer supported :( Version 0.4.3.2 (2018-03-29) Improve autofocus Improve driving when only one lane line is detected Added fingerprint for Toyota Corolla LE Fixed Toyota Corolla steer error Full-screen driving UI Improved path drawing Version 0.4.3.1 (2018-03-19) Improve autofocus Add check for MPC solution error Make first distracted warning visual only Version 0.4.3 (2018-03-13) Add HDR and autofocus Update UI aesthetic Grey panda works in Waze Add alpha support for 2017 Honda Pilot Slight increase in acceleration response from stop Switch CAN sending to use CANPacker Fix pulsing acceleration regression on Honda Fix openpilot bugs when stock system is in use Change starting logic for chffrplus to use battery voltage Version 0.4.2 (2018-02-05) Add alpha support for 2017 Lexus RX Hybrid Add alpha support for 2018 ACURA RDX Updated fingerprint to include Toyota Rav4 SE and Prius Prime Bugfixes for Acura ILX and Honda Odyssey Version 0.4.1 (2018-01-30) Add alpha support for 2017 Toyota Corolla Add alpha support for 2018 Honda Odyssey with Honda Sensing Add alpha support for Grey Panda Refactored car abstraction layer to make car ports easier Increased steering torque limit on Honda CR-V by 30% Version 0.4.0.2 (2018-01-18) Add focus adjustment slider Minor bugfixes Version 0.4.0.1 (2017-12-21) New UI to match chffrplus Improved lateral control tuning to fix oscillations on Civic Add alpha support for 2017 Toyota Rav4 Hybrid Reduced CPU usage Removed unnecessary utilization of fan at max speed Minor bug fixes Version 0.3.9 (2017-11-21) Add alpha support for 2017 Toyota Prius Improved longitudinal control using model predictive control Enable Forward Collision Warning Acura ILX now maintains openpilot engaged at standstill when brakes are applied Version 0.3.8.2 (2017-10-30) Add alpha support for 2017 Toyota RAV4 Smoother lateral control Stay silent if stock system is connected through giraffe Minor bug fixes Version 0.3.7 (2017-09-30) Improved lateral control using model predictive control Improved lane centering Improved GPS Reduced tendency of path deviation near right side exits Enable engagement while the accelerator pedal is pressed Enable engagement while the brake pedal is pressed, when stationary and with lead vehicle within 5m Disable engagement when park brake or brake hold are active Fixed sporadic longitudinal pulsing in Civic Cleanups to vehicle interface Version 0.3.6.1 (2017-08-15) Mitigate low speed steering oscillations on some vehicles Include board steering check for CR-V Version 0.3.6 (2017-08-08) Fix alpha CR-V support Improved GPS Fix display of target speed not always matching HUD Increased acceleration after stop Mitigated some vehicles driving too close to the right line Version 0.3.5 (2017-07-30) Fix bug where new devices would not begin calibration Minor robustness improvements Version 0.3.4 (2017-07-28) Improved model trained on more data Much improved controls tuning Performance improvements Bugfixes and improvements to calibration Driving log can play back video Acura only: system now stays engaged below 25mph as long as brakes are applied Version 0.3.3 (2017-06-28) Improved model trained on more data Alpha CR-V support thanks to energee and johnnwvs! Using the opendbc project for DBC files Minor performance improvements UI update thanks to pjlao307 Power off button 6% more torque on the Civic Version 0.3.2 (2017-05-22) Minor stability bugfixes Added metrics and rear view mirror disable to settings Update model with more crowdsourced data Version 0.3.1 (2017-05-17) visiond stability bugfix Add logging for angle and flashing Version 0.3.0 (2017-05-12) Add CarParams struct to improve the abstraction layer Refactor visiond IPC to support multiple clients Add raw GPS and beginning support for navigation Improve model in visiond using crowdsourced data Add improved system logging to diagnose instability Rewrite baseui in React Native Moved calibration to the cloud Version 0.2.9 (2017-03-01) Retain compatibility with NEOS v1 Version 0.2.8 (2017-02-27) Fix bug where frames were being dropped in minute 71 Version 0.2.7 (2017-02-08) Better performance and pictures at night Fix ptr alignment issue in boardd Fix brake error light, fix crash if too cold Version 0.2.6 (2017-01-31) Fix bug in visiond model execution Version 0.2.5 (2017-01-30) Fix race condition in manager Version 0.2.4 (2017-01-27) OnePlus 3T support Enable installation as NEOS app Various minor bugfixes Version 0.2.3 (2017-01-11) Reduce space usage by 80% Add better logging Add Travis CI Version 0.2.2 (2017-01-10) Board triggers started signal on CAN messages Improved autoexposure Handle out of space, improve upload status Version 0.2.1 (2016-12-14) Performance improvements, removal of more numpy Fix boardd process priority Make counter timer reset on use of steering wheel Version 0.2 (2016-12-12) Car/Radar abstraction layers have shipped, see cereal/car.capnp controlsd has been refactored Shipped plant model and testing maneuvers visiond exits more gracefully now Hardware encoder in visiond should always init ui now turns off the screen after 30 seconds Switch to openpilot release branch for future releases Added preliminary Docker container to run tests on PC Version 0.1 (2016-11-29) Initial release of openpilot Adaptive cruise control is working Lane keep assist is working Support for Acura ILX 2016 with AcuraWatch Plus Support for Honda Civic 2016 Touring Edition Copyright © all right reserved，powered by Gitbook本站已停止维护，本页最后更新： 2020-06-04 23:06:37 "},"cn/openpilot_releases_en.html":{"url":"cn/openpilot_releases_en.html","title":"更新记录[英文原版]","keywords":"","body":"Openpilot 版本更新记录 更新记录[中文翻译] Version 0.7.6 (2020-06-05) White panda is deprecated, upgrade to comma two or black panda 2017 Nissan X-Trail, 2018-19 Leaf and 2019 Rogue support thanks to avolmensky! 2017 Mazda CX-5 support in dashcam mode thanks to Jafaral! Huge CPU savings in modeld by using thneed! Lots of code cleanup and refactors Version 0.7.5 (2020-05-13) Right-Hand Drive support for both driving and driver monitoring! New driving model: improved at sharp turns and lead speed estimation New driver monitoring model: overall improvement on comma two Driver camera preview in settings to improve mounting position Added support for many Hyundai, Kia, Genesis models thanks to xx979xx! 2019 Nissan X-Trail and 2018 Nissan Leaf support thanks to avolmensky! Improved lateral tuning for 2020 Toyota Rav 4 (hybrid) Version 0.7.4 (2020-03-20) New driving model: improved lane changes and lead car detection Improved driver monitoring model: improve eye detection Improved calibration stability Improved lateral control on some 2019 and 2020 Toyota Prius Improved lateral control on VW Golf: 20% more steering torque Fixed bug where some 2017 and 2018 Toyota C-HR would use the wrong steering angle sensor Support for Honda Insight thanks to theantihero! Code cleanup in car abstraction layers and ui Version 0.7.3 (2020-02-21) Improved autofocus for road facing camera Support for 2020 Highlander thanks to che220! Support for 2018 Lexus NX 300h thanks to kengggg! Speed up ECU firmware query Fix bug where manager would sometimes hang after shutting down the car Version 0.7.2 (2020-02-07) ECU firmware version based fingerprinting for Honda & Toyota New driving model: improved path prediction during turns and lane changes and better lead speed tracking Improve driver monitoring under extreme lighting and add low accuracy alert Support for 2019 Rav4 Hybrid thanks to illumiN8i! Support for 2016, 2017 and 2020 Lexus RX thanks to illumiN8i! Support for 2020 Chrysler Pacifica Hybrid thanks to adhintz! Version 0.7.1 (2020-01-20) comma two support! Lane Change Assist above 45 mph! Replace zmq with custom messaging library, msgq! Supercombo model: calibration and driving models are combined for better lead estimate More robust updater thanks to jyoung8607! Requires NEOS update Improve low speed ACC tuning Version 0.7 (2019-12-13) Move to SCons build system! Add Lane Departure Warning (LDW) for all supported vehicles! NEOS update: increase wifi speed thanks to jyoung8607! Adaptive driver monitoring based on scene New driving model trained end-to-end: improve lane lines and lead detection Smarter torque limit alerts for all cars Improve GM longitudinal control: proper computations for 15Hz radar Move GM port, Toyota with DSU removed, comma pedal in community features; toggle switch required Remove upload over cellular toggle: only upload qlog and qcamera files if not on wifi Refactor Panda code towards ISO26262 and SIL2 compliancy Forward stock FCW for Honda Nidec Volkswagen port now standard: comma Harness intercepts stock camera Version 0.6.6 (2019-11-05) Volkswagen support thanks to jyoung8607! Toyota Corolla Hybrid with TSS 2.0 support thanks to u8511049! Lexus ES with TSS 2.0 support thanks to energee! Fix GM ignition detection and lock safety mode not required anymore Log panda firmware and dongle ID thanks to martinl! New driving model: improve path prediction and lead detection New driver monitoring model, 4x smaller and running on DSP Display an alert and don't start openpilot if panda has wrong firmware Fix bug preventing EON from terminating processes after a drive Remove support for Toyota giraffe without the 120Ohm resistor Version 0.6.5 (2019-10-07) NEOS update: upgrade to Python3 and new installer! comma Harness support! New driving model: lateral control has lower reliance on lanelines New driver monitoring model: more accurate face and eye detection Redesign offroad screen to display updates and alerts Increase maximum allowed acceleration Prevent car 12V battery drain by cutting off EON charge after 3 days of no drive Lexus CT Hybrid support thanks to thomaspich! Louder chime for critical alerts Add toggle to switch to dashcam mode Fix \"invalid vehicle params\" error on DSU-less Toyota Version 0.6.4 (2019-09-08) Forward stock AEB for Honda Nidec Improve lane centering on banked roads Always-on forward collision warning Always-on driver monitoring, except for right hand drive countries Driver monitoring learns the user's normal driving position Honda Fit support thanks to energee! Lexus IS support Version 0.6.3 (2019-08-12) Alert sounds from EON: requires NEOS update Improve driver monitoring: eye tracking and improved awareness logic Improve path prediction with new driving model Improve lane positioning with wide lanes and exits Improve lateral control on RAV4 Slow down for turns using model Open sourced regression test to verify outputs against reference logs Open sourced regression test to sanity check all car models Version 0.6.2 (2019-07-29) New driving model! Improve lane tracking with double lines Strongly improve stationary vehicle detection Strongly reduce cases of braking due to false leads Better lead tracking around turns Improve cut-in prediction by using neural network Improve lateral control on Toyota Camry and C-HR thanks to zorrobyte! Fix unintended openpilot disengagements on Jeep thanks to adhintz! Fix delayed transition to offroad when car is turned off Version 0.6.1 (2019-07-21) Remote SSH with comma prime and ssh.comma.ai Panda code Misra-c2012 compliance, tested against cppcheck coverage Lockout openpilot after 3 terminal alerts for driver distracted or unresponsive Toyota Sienna support thanks to wocsor! Version 0.6 (2019-07-01) New model, with double the pixels and ten times the temporal context! Car should not take exits when in the right lane openpilot uses only ~65% of the CPU (down from 75%) Routes visible in connect/explorer after only 0.2% is uploaded (qlogs) loggerd and sensord are open source, every line of openpilot is now open Panda safety code is MISRA compliant and ships with a signed version on release2 New NEOS is 500MB smaller and has a reproducible usr/pipenv Lexus ES Hybrid support thanks to wocsor! Improve tuning for supported Toyota with TSS2 Various other stability improvements Version 0.5.13 (2019-05-31) Reduce panda power consumption by 70%, down to 80mW, when car is off (not for GM) Reduce EON power consumption by 40%, down to 1100mW, when car is off Reduce CPU utilization by 20% and improve stability Temporarily remove mapd functionalities to improve stability Add openpilot record-only mode for unsupported cars Synchronize controlsd to boardd to reduce latency Remove panda support for Subaru giraffe Version 0.5.12 (2019-05-16) Improve lateral control for the Prius and Prius Prime Compress logs before writing to disk Remove old driving data when storage reaches 90% full Fix small offset in following distance Various small CPU optimizations Improve offroad power consumption: require NEOS Update Add default speed limits for Estonia thanks to martinl! Subaru Crosstrek support thanks to martinl! Toyota Avalon support thanks to njbrown09! Toyota Rav4 with TSS 2.0 support thanks to wocsor! Toyota Corolla with TSS 2.0 support thanks to wocsor! Version 0.5.11 (2019-04-17) Add support for Subaru Reduce panda power consumption by 60% when car is off Fix controlsd lag every 6 minutes. This would sometimes cause disengagements Fix bug in controls with new angle-offset learner in MPC Reduce cpu consumption of ubloxd by rewriting it in C++ Improve driver monitoring model and face detection Improve performance of visiond and ui Honda Passport 2019 support Lexus RX Hybrid 2019 support thanks to schomems! Improve road selection heuristic in mapd Add Lane Departure Warning to dashboard for Toyota thanks to arne182 Version 0.5.10 (2019-03-19) Self-tuning vehicle parameters: steering offset, tire stiffness and steering ratio Improve longitudinal control at low speed when lead vehicle harshly decelerates Fix panda bug going unexpectedly in DCP mode when EON is connected Reduce white panda power consumption by 500mW when EON is disconnected by turning off WIFI New Driver Monitoring Model Support QR codes for login using comma connect Refactor comma pedal FW and use CRC-8 checksum algorithm for safety. Reflashing pedal is required. Please see #hw-pedal on discord for assistance updating comma pedal. Additional speed limit rules for Germany thanks to arne182 Allow negative speed limit offsets Version 0.5.9 (2019-02-10) Improve calibration using a dedicated neural network Abstract planner in its own process to remove lags in controls process Improve speed limits with country/region defaults by road type Reduce mapd data usage with gzip thanks to eFiniLan Zip log files in the background to reduce disk usage Kia Optima support thanks to emmertex! Buick Regal 2018 support thanks to HOYS! Comma pedal support for Toyota thanks to wocsor! Note: tuning needed and not maintained by comma Chrysler Pacifica and Jeep Grand Cherokee support thanks to adhintz! Version 0.5.8 (2019-01-17) Open sourced visiond Auto-slowdown for upcoming turns Chrysler/Jeep/Fiat support thanks to adhintz! Honda Civic 2019 support thanks to csouers! Improve use of car display in Toyota thanks to arne182! No data upload when connected to Android or iOS hotspots and \"Enable Upload Over Cellular\" setting is off EON stops charging when 12V battery drops below 11.8V Version 0.5.7 (2018-12-06) Speed limit from OpenStreetMap added to UI Highlight speed limit when speed exceeds road speed limit plus a delta Option to limit openpilot max speed to road speed limit plus a delta Cadillac ATS support thanks to vntarasov! GMC Acadia support thanks to CryptoKylan! Decrease GPU power consumption NEOSv8 autoupdate Version 0.5.6 (2018-11-16) Refresh settings layout and add feature descriptions In Honda, keep stock camera on for logging and extra stock features; new openpilot giraffe setting is 0111! In Toyota, option to keep stock camera on for logging and extra stock features (e.g. AHB); 120Ohm resistor required on giraffe. Improve camera calibration stability More tuning to Honda positive accelerations Reduce brake pump use on Hondas Chevrolet Malibu support thanks to tylergets! Holden Astra support thanks to AlexHill! Version 0.5.5 (2018-10-20) Increase allowed Honda positive accelerations Fix sporadic unexpected braking when passing semi-trucks in Toyota Fix gear reading bug in Hyundai Elantra thanks to emmertex! Version 0.5.4 (2018-09-25) New Driving Model New Driver Monitoring Model Improve longitudinal mpc in mid-low speed braking Honda Accord hybrid support thanks to energee! Ship mpc binaries and sensibly reduce build time Calibration more stable More Hyundai and Kia cars supported thanks to emmertex! Various GM Volt improvements thanks to vntarasov! Version 0.5.3 (2018-09-03) Hyundai Santa Fe support! Honda Pilot 2019 support thanks to energee! Toyota Highlander support thanks to daehahn! Improve steering tuning for Honda Odyssey Version 0.5.2 (2018-08-16) New calibration: more accurate, a lot faster, open source! Enable orbd Add little endian support to CAN packer Fix fingerprint for Honda Accord 1.5T Improve driver monitoring model Version 0.5.1 (2018-08-01) Fix radar error on Civic sedan 2018 Improve thermal management logic Alpha Toyota C-HR and Camry support! Auto-switch Driver Monitoring to 3 min counter when inaccurate Version 0.5 (2018-07-11) Driver Monitoring (beta) option in settings! Make visiond, loggerd and UI use less resources 60 FPS UI Better car parameters for most cars New sidebar with stats Remove Waze and Spotify to free up system resources Remove rear view mirror option Calibration 3x faster Version 0.4.7.2 (2018-06-25) Fix loggerd lag issue No longer prompt for updates Mitigate right lane hugging for properly mounted EON (procedure on wiki) Version 0.4.7.1 (2018-06-18) Fix Acura ILX steer faults Fix bug in mock car Version 0.4.7 (2018-06-15) New model! GM Volt (and CT6 lateral) support! Honda Bosch lateral support! Improve actuator modeling to reduce lateral wobble Minor refactor of car abstraction layer Hack around orbd startup issue Version 0.4.6 (2018-05-18) NEOSv6 required! Will autoupdate Stability improvements Fix all memory leaks Update C++ compiler to clang6 Improve front camera exposure Version 0.4.5 (2018-04-27) Release notes added to the update popup Improve auto shut-off logic to disallow empty battery Added onboarding instructions Include orbd, the first piece of new calibration algorithm Show remaining upload data instead of file numbers Fix UI bugs Fix memory leaks Version 0.4.4 (2018-04-13) EON are flipped! Flip your EON's mount! Alpha Honda Ridgeline support thanks to energee! Support optional front camera recording Upload over cellular toggle now applies to all files, not just video Increase acceleration when closing lead gap User now prompted for future updates NEO no longer supported :( Version 0.4.3.2 (2018-03-29) Improve autofocus Improve driving when only one lane line is detected Added fingerprint for Toyota Corolla LE Fixed Toyota Corolla steer error Full-screen driving UI Improved path drawing Version 0.4.3.1 (2018-03-19) Improve autofocus Add check for MPC solution error Make first distracted warning visual only Version 0.4.3 (2018-03-13) Add HDR and autofocus Update UI aesthetic Grey panda works in Waze Add alpha support for 2017 Honda Pilot Slight increase in acceleration response from stop Switch CAN sending to use CANPacker Fix pulsing acceleration regression on Honda Fix openpilot bugs when stock system is in use Change starting logic for chffrplus to use battery voltage Version 0.4.2 (2018-02-05) Add alpha support for 2017 Lexus RX Hybrid Add alpha support for 2018 ACURA RDX Updated fingerprint to include Toyota Rav4 SE and Prius Prime Bugfixes for Acura ILX and Honda Odyssey Version 0.4.1 (2018-01-30) Add alpha support for 2017 Toyota Corolla Add alpha support for 2018 Honda Odyssey with Honda Sensing Add alpha support for Grey Panda Refactored car abstraction layer to make car ports easier Increased steering torque limit on Honda CR-V by 30% Version 0.4.0.2 (2018-01-18) Add focus adjustment slider Minor bugfixes Version 0.4.0.1 (2017-12-21) New UI to match chffrplus Improved lateral control tuning to fix oscillations on Civic Add alpha support for 2017 Toyota Rav4 Hybrid Reduced CPU usage Removed unnecessary utilization of fan at max speed Minor bug fixes Version 0.3.9 (2017-11-21) Add alpha support for 2017 Toyota Prius Improved longitudinal control using model predictive control Enable Forward Collision Warning Acura ILX now maintains openpilot engaged at standstill when brakes are applied Version 0.3.8.2 (2017-10-30) Add alpha support for 2017 Toyota RAV4 Smoother lateral control Stay silent if stock system is connected through giraffe Minor bug fixes Version 0.3.7 (2017-09-30) Improved lateral control using model predictive control Improved lane centering Improved GPS Reduced tendency of path deviation near right side exits Enable engagement while the accelerator pedal is pressed Enable engagement while the brake pedal is pressed, when stationary and with lead vehicle within 5m Disable engagement when park brake or brake hold are active Fixed sporadic longitudinal pulsing in Civic Cleanups to vehicle interface Version 0.3.6.1 (2017-08-15) Mitigate low speed steering oscillations on some vehicles Include board steering check for CR-V Version 0.3.6 (2017-08-08) Fix alpha CR-V support Improved GPS Fix display of target speed not always matching HUD Increased acceleration after stop Mitigated some vehicles driving too close to the right line Version 0.3.5 (2017-07-30) Fix bug where new devices would not begin calibration Minor robustness improvements Version 0.3.4 (2017-07-28) Improved model trained on more data Much improved controls tuning Performance improvements Bugfixes and improvements to calibration Driving log can play back video Acura only: system now stays engaged below 25mph as long as brakes are applied Version 0.3.3 (2017-06-28) Improved model trained on more data Alpha CR-V support thanks to energee and johnnwvs! Using the opendbc project for DBC files Minor performance improvements UI update thanks to pjlao307 Power off button 6% more torque on the Civic Version 0.3.2 (2017-05-22) Minor stability bugfixes Added metrics and rear view mirror disable to settings Update model with more crowdsourced data Version 0.3.1 (2017-05-17) visiond stability bugfix Add logging for angle and flashing Version 0.3.0 (2017-05-12) Add CarParams struct to improve the abstraction layer Refactor visiond IPC to support multiple clients Add raw GPS and beginning support for navigation Improve model in visiond using crowdsourced data Add improved system logging to diagnose instability Rewrite baseui in React Native Moved calibration to the cloud Version 0.2.9 (2017-03-01) Retain compatibility with NEOS v1 Version 0.2.8 (2017-02-27) Fix bug where frames were being dropped in minute 71 Version 0.2.7 (2017-02-08) Better performance and pictures at night Fix ptr alignment issue in boardd Fix brake error light, fix crash if too cold Version 0.2.6 (2017-01-31) Fix bug in visiond model execution Version 0.2.5 (2017-01-30) Fix race condition in manager Version 0.2.4 (2017-01-27) OnePlus 3T support Enable installation as NEOS app Various minor bugfixes Version 0.2.3 (2017-01-11) Reduce space usage by 80% Add better logging Add Travis CI Version 0.2.2 (2017-01-10) Board triggers started signal on CAN messages Improved autoexposure Handle out of space, improve upload status Version 0.2.1 (2016-12-14) Performance improvements, removal of more numpy Fix boardd process priority Make counter timer reset on use of steering wheel Version 0.2 (2016-12-12) Car/Radar abstraction layers have shipped, see cereal/car.capnp controlsd has been refactored Shipped plant model and testing maneuvers visiond exits more gracefully now Hardware encoder in visiond should always init ui now turns off the screen after 30 seconds Switch to openpilot release branch for future releases Added preliminary Docker container to run tests on PC Version 0.1 (2016-11-29) Initial release of openpilot Adaptive cruise control is working Lane keep assist is working Support for Acura ILX 2016 with AcuraWatch Plus Support for Honda Civic 2016 Touring Edition Copyright © all right reserved，powered by Gitbook本站已停止维护，本页最后更新： 2020-06-04 23:06:58 "},"./":{"url":"./","title":"快速入门","keywords":"","body":"相关资料 新手必读 相关视频 国内镜像 常见硬件 常见术语 常用命令 更新记录[中文翻译] 更新记录[英文原版] 快速入门 常用软件资料下载 Openpilot 硬件购买篇 使用 TWRP 恢复 openpilot 备份 使用 Putty SSH 切换 openpilot 分支版本 iPhone 手机上 SSH 连接到 openpilot 通过界面安装 openpilot 分支版本 Windows 下一键安装 openpilot 教程 Windows 下手动安装 openpilot 教程 macOS 下手动安装 openpilot 教程 NEOS 降级指南 Panda 固件更新教程 抓取车辆指纹信息 抓取车辆指纹2.0 EON USB 有线网卡设置 EON 开机自动开启 WIFI 热点 一加3T三段式开关切换 openpilot 版本 一加3T手机WIFI mac 丢失问题 一加3T手机分区一键备份恢复工具 failed to authenticate 和 无法绑定账户问题 EON 快拆底座制作指南 EON 亚克力外壳 raspberry-pilot 安装指南 关于本站 版权声明 Comma ai Comma wiki Comma ai github Commaai archive Youtube Copyright © all right reserved，powered by Gitbook本站已停止维护，本页最后更新： 2020-05-12 16:25:26 "},"cn/openpilot_software_free_download.html":{"url":"cn/openpilot_software_free_download.html","title":"常用软件资料下载","keywords":"","body":"Openpilot 常用软件资料下载 收集 Openpilot 使用、开发过程中常用的资料软件到这里，方便汇总下载。 软件资料存储在国外服务器，通过 Cloudflare 免费的 CDN 加速，所以你可以尽情的使用迅雷、IDM、aria2 下载。 Openpilot软件下载站：https://d.sdut.me Openpilot SSH 私钥 Putty （SSH 工具） TWRP（Android 开源第三方 Recovery） Winscp （Windows 下通过 SSH 传输文件工具） Workbench (为 Openpilot 定制的管理工具) 一加3T救砖工具 一加3T降级包(Android7.1) 一加万能工具包_V5.3 一加手机3T工具箱V2.0.0 Copyright © all right reserved，powered by Gitbook本站已停止维护，本页最后更新： 2019-10-30 11:20:14 "},"cn/how_to_buy_openpilot.html":{"url":"cn/how_to_buy_openpilot.html","title":"Openpilot 硬件购买篇","keywords":"","body":"Openpilot 硬件购买篇 openpilot 是什么 openpilot 是 comma 公司开源的一个自动驾驶辅助系统，包含 软件 和 硬件 两部分，其中软件和第一代硬件都是开源的，可以在 github 上找到。 因为在 openpilot 的发展过程中，硬件进行了一次更新，所以我们接下来，分别介绍一下。 一代硬件 名称 图片 Giraffe Panda Comma power EON 一代硬件包含 Giraffe、Panda (White / Grey)、Comma power 和 EON 四部分，其中 Comma power 有些车型是必须配备的，而有些车型因为 Giraffe 接口上自带电源，所以不需要 Comma power. Giraffe 又叫 \"长颈鹿\"，是连接 Panda 和 原车 ACC 模块的桥梁，它起到的作用，就是转换不同车型的不同接口到 OBD 接口，然后可以顺利的连接到 Panda，Giraffe 通常需要根据不同车型的不同接口定制，常见的型号有 Honda Bosch Giraffe，Honda Nidec Giraffe， Toyota Giraffe，不论是那种车型的 Giraffe，一般都会有多个指拨开关，用来配置模式、切换系统连接到原车还是openpilot。 Panda 又叫 \"熊猫\"，是一个基于 opendbc 的汽车 OBD 协议解码器，可以通过不同的 DBC 定义，解析和发送的 OBD 信号，起到了数据转换和解析的网关作用，其中分灰熊猫（有GPS，没有WIFI）、白熊猫（有WIFI，没有GPS）2个版本。 Comma power 是从驾驶座下方取电的装置，汽车点火后，从 OBD 接口中取电，然后为 Panda 和 EON 供电，大部分丰田车型，都需要 Comma power 取电，而大部分本田车型（Honda Bosch）都不需要（思域除外）。 EON 是全套设备的 \"大脑\"，负责运行 neos 系统（基于 Android 6 定制开发的系统） 和 openpilot 软件，EON 由两部分组成，一是手机（一加3T 或 乐视 3 pro），二是外壳散热套件（有开源，可自己 3D 打印）。 二代硬件 名称 图片 Harness connector(黑色盒子是 harness) Harness Panda (Black) Comma power v2 EON 二代硬件包含 Harness、Panda (Black)、Comma power v2 和 EON 四部分。 Harness 是二代硬件中新加入的部分，其中部分线束代替了原来 Giraffe 的功能，用来连接 Panda 和原车 ACC 模块，另外 Harness 模块中还加入了自动切换功能（继电器），可以在 EON 工作不正常、没有连接的时候，自动切换到原车 ACC，和原来 Giraffe 上的指拨开关功能一致，但是自动切换的实现，更加方便了。 Black Panda，如果说 Grey Panda 是对 White Panda 的一次升级，Black Panda 可以说是 Grey Panda 的再次升级，想必 Grey 版本，Black 使用 USB Type-C 口与 Harness 传输 OBD 数据，而且体积更小，同时包含高精度 GPS，可以说是 Grey Panda 的体积缩小版，更加方便固定在前挡风玻璃上。 Comma power v2 的升级，也是接口的升级，使用 RJ-45（网线口）代替原有接口，使用一条网线即可实现供电的连接，另外，据说 Comma power v2 还可以作为额外的一路 CAN 总线数据，提供 VIN 查询（待验证），虽然作为本田雅阁车主，不需要这个东西，但是还是对他的未来功能，抱有幻想。 在本次的升级中， EON 没有任何变化，但是相信新版的 EON 也在研发中了，而且从代码中可以看到新版 EON 的名字 -- UNO。 一代和二代有什么区别 第二代相比较第一代有 2 个明显改进： 体积缩小了，Panda 和 Harness 变成了 2 个小黑盒子，Giraffe 变成了线束，可以放进原车的 ACC 盒子里，第一代不行。 新增硬件 Harness ，可以检测是否连接了 EON，自动切换原车和 OP，而第一代需要手动拨动开关切换。 经过一段时间的使用，主管体验上可以明显感受到的，车辆出现报错的情况变少了，拆掉 EON 也更加方便了，尤其是像我这样的使用场景（工作日上班，市内短途用不到辅助驾驶，周末小长途用 openpilot 省心省力）。 虽然二代相比一代有了一些改进，但是价格上也变贵了，再加上从官方购买需要过海关缴税，因此一些人还在观望，等待国内仿制版本的出现。 新硬件发布后，旧硬件还可以正常使用么 George Hotz 在 discord 说对于一代硬件的软件支持，至少还会持续一年，也就是说，即使你现在购买了一代硬件，也是可以继续使用的，并且可以得到官方软件的支持。 三代硬件 名称 图片 Harness connector(黑色盒子是 harness) Harness Comma power v2 Comma two(内置 Black panda) 三代硬件包含 Harness、Comma power v2 和 Comma two 三部分。 Harness 和 Comma power v2 都和二代硬件中是一致的，没有变化， Comma two，是原来 EON 的升级版本，其中： 内置 Black Panda，不再需要单独安装 增加红外 LED 夜间补光，方便夜间实现驾驶员监控 移除了手机电池，可以长期安装在车内 可以说 Comma two 的发布，是 Comma 向产品化又迈出了一大步，很大程度上完善了产品功能，极大的提升了用户体验。 其实对于 EON 升级到 Comma two，移除手机电池是一个很重要的更新，有动手能力的同学可以自己 DIY，不过操作过程需要注意，移除电池后保留电池保护板，电池供电线仍然需要提供稳定供电。 新硬件发布后，旧硬件还可以正常使用么 George Hotz 在 discord 说对于一代硬件的软件支持，至少还会持续一年，也就是说，即使你现在购买了一代硬件，也是可以继续使用的，并且可以得到官方软件的支持。 怎么买，从哪买 目前，官方已经下架了一代硬件、二代硬件，全面销售三代硬件，但是国内仍然有商家在卖旧款硬件，同时跟进研发类似功能的新硬件。 就当前的时间点，下面我们说一说，有哪些购买方案和购买途径。 一代硬件方案 商品 花费 购买途径 一代 Giraffe 300 RMB 国内商家 一代 White Panda 350 RMB 国内商家 二手 乐视 3 pro 手机 300 RMB 二手闲鱼 手机支架 50 RMB 淘宝 总价：~ 1000 RMB 总结：手机靠捡漏，配件买国产，手机支架凑活用，1000 RMB 就可以尝试一下，花钱少，见效快。 问题： 手机散热问题 一代硬件问题：外观裸露，不能自动切换 缺少高精度 GPS 模块（政策限制，国内好像没啥效果） 需要自己把 乐视 3 pro 手机刷成 openpilot（难度不大） 手机中有电池，驾驶结束需要取下来，防止放在车里温度过高有爆炸风险 其实对于散热的问题，再购买一个专业的散热支架套件（含风扇、Gopro底座）是非常有必要的，因为 openpilot 的运算量较大，在夏天高温环境下，容易导致 EON 因为温度过高而不能正常工作，散热套件加持，可以一年四季长时间使用，可以在国内商家处买到，价格大约在 700 RMB左右。 二代硬件方案 商品 花费 购买途径 Black Panda - 官方已停售国内商家有售 Harness（含连接线束、OBD电源线） 官方售价 $200 官方在售国内商家有售 二手 乐视 3 pro 手机 300 RMB 二手闲鱼 散热支架套件 700 RMB 国内商家 总价：~ 4000 RMB 总结：第二代硬件更新后，解决了车辆报错的问题，但是可以体验到自动切换原车和OP，可以隐藏安装，价格也还算合理值得推荐。 问题： 需要自己把 乐视 3 pro 手机刷成 openpilot（难度不大） 手机中有电池，驾驶结束需要取下来，防止放在车里温度过高有爆炸风险 三代硬件方案（最新款硬件） 商品 花费 购买途径 Harness（含连接线束、OBD电源线） $200 官方在售国内商家有售 comma two（内置 Black panda、红外 LED、移除电池，含散热壳） $999 官方 总价：~ 8257 RMB 总结：官方最新全能套件，解决了目前遇到的所有问题，可以长期安装在车内，不用担心电池高温爆炸风险，同时散热风扇更静音。 海关报税的时候，选类别千万不要选择汽车配件，大陆法律中严禁个人进口汽车配件 如果想操作一下的话，可以在 discord （或邮件）联系 comma 官方客服，请求发 USPS 快递，因为 USPS 快递过海关的时候是抽检的，所以有一定的概率避过海关检查，节省掉一部分费用。 是否值得买 当你花 3k 块钱装了个 Android 大屏听歌看导航的时候，我已经装上 openpilot 体验了一把自动驾驶，其实都是改装的乐趣，如果预算足够，尽管买，不过都是玩具而已，目前的情况，并不能做到使用过程中一点问题没有 openpilot 目前可以说是加强版的 ACC(自适应巡航) 和 LKAS(车道保持)，可以自动控制方向盘，真正把车子保持在车道中间，不像大多数原车 LKAS 一样左右摇摆，提高了安全性，真正意义上的驾驶辅助，而 ACC 可以在长途驾驶中 释放右脚，不用紧绷神经、放松下来，减缓驾驶疲劳，也是有利于安全驾驶的。 因此： 如果你经常长途驾驶，并且封闭路况居多，非常推荐购买，既省心省力，又有利于安全； 如果你大部分时间都在市内道路，路况复杂，人乱车多，那就不建议购买，因为 openpilot 目前还不能很好的处理这种路况； 如果你想在车里睡觉、玩手机，让车子自己开，那么请马上放弃购买（目视前方，注意路况，既是对自己负责，也是对别人负责） 特殊说明 大部分车型原厂的 EPS 都会有转向扭矩限制，因此 openpilot 并不能全角度的自动转向（本田车型限制尤其严重）。 文中避税方式仅供参考，不作推荐。 文中购买链接仅供参考，无利益关系。 Copyright © all right reserved，powered by Gitbook本站已停止维护，本页最后更新： 2020-01-16 14:46:53 "},"cn/how_to_restore_openpilot_backup_via_twrp.html":{"url":"cn/how_to_restore_openpilot_backup_via_twrp.html","title":"使用 TWRP 恢复 openpilot 备份","keywords":"","body":"使用 TWRP 恢复 openpilot 备份 前提：确保手机已经 解锁 Bootloader 并且安装了第三方 twrp recovery 参考：Windows 下手动分布安装 openpilot 教程（刷写 NEOS 系统 前的部分） 开机，在第一个界面显示时，通过按音量键选择 recovery 选项，并按 电源键确认 进入 Recovery 模式后，将手机通过 USB 连接到电脑 在电脑端下载需要的 TWRP 备份并解压（下载地址：http://d.sdut.me/twrp_backup ） 将备份文件夹复制到手机内置存储目录 /TWRP 下（如果存在 /TWRP/BACKUPS/{8位字符串}/ 目录，那就放在此目录下），目录结构见下图 在手机 TWRP 界面，点击 \"恢复\"，选择刚才上传的文件夹名称，确认勾选了 boot、data、system，并滑动确认 等待刷机完成后，点击 \"重启系统\" 按钮，重启系统 等待进入 openpilot Copyright © all right reserved，powered by Gitbook本站已停止维护，本页最后更新： 2019-11-29 16:47:23 "},"cn/how_to_change_openpilot_fork_on_windows.html":{"url":"cn/how_to_change_openpilot_fork_on_windows.html","title":"使用 Putty SSH 切换 openpilot 分支版本","keywords":"","body":"使用 Putty SSH 切换 openpilot 分支版本 获取 EON 的 IP 地址 - 如果 电脑 和 EON 同时接入网络 EON 和 电脑 接入同一局域网（比如连接同一个路由器的 WIFI 信号）。 在 EON 上，通过菜单 \"设置 - 网络 - 无线网络设置 - 更多选项（右上角）- 右上角三个点 - 高级\"，打开 WiFi 连接信息界面，即可查看 EON IP 地址。 - 如果 电脑 通过 WiFi 连接到了 EON 提供的 WiFi 热点 电脑通过 WIFI 连接到 EON 提供的 WiFi 热点。 电脑的 IP 是 192.168.43.x，EON 的IP 固定为 192.168.43.1。 附：EON 如何设置共享 WIFI 热点 下载 Putty 和 ppk（私钥） 下载软件 putty （ 下载地址：http://d.sdut.me/putty ） 下载私钥 ppk （ 下载地址：http://d.sdut.me/eonkeys/eon.ppk ） 填写信息，SSH 连接到 EON 打开 Putty 填写 IP 和 Port 点击左侧菜单 \"Connection - SSH - Auth\"，点击右侧最下面 Browse 选择 ppk 私钥 点击右下角 Open 按钮，弹出窗口点击 \"是（Y）\" Putty 的 \"login as :\" 界面输入 root，然后回车 进入 EON 的 shell 环境了 选项 填写 备注 Host Name(or IP address) 192.168.43.1 或者 EON 的 IP 第一步查询到的 EON 的 IP Port 8022 SSH 端口号，这里默认是 8022 Private Key 点击 Browse，选择之前下载的 ppk 文件 ppk 格式为客户端 putty 专用 切换 openpilot 分支版本 openpilot 有很多分支，Openpilot 国内镜像 这里有一些同步到 gitee 的分支代码，可以试用一下，看看哪一个版本适合自己。 dragonpilot 和 openpilot-cn 有中文版，需要的可以尝试 如果网络条件好的（有梯子）话，也可以用对应的 Github 地址 依次执行下列命令切换分支版本： # 打开 data 目录 cd /data # 备份原有的 openpilot mv openpilot openpilot.bak # 下载新的版本分支 git clone https://gitee.com/afaaa/kegman openpilot # 打开 openpilot 目录 cd openpilot # 查看全部分支 和 当前分支 git branch -a # 切换到目标分支 git checkout kegman-0.7.3 # 重新查看确认当前分支 git branch # 编译重启 # 0.7 之前的版本使用 make && reboot scons -i && reboot 或者用一条命令运行： cd /data && rm -rf openpilot && git clone https://gitee.com/afaaa/kegman openpilot && cd openpilot && git checkout kegman-0.7.3 && scons -i && reboot Copyright © all right reserved，powered by Gitbook本站已停止维护，本页最后更新： 2020-03-06 10:35:41 "},"cn/how_to_change_openpilot_fork_via_ui.html":{"url":"cn/how_to_change_openpilot_fork_via_ui.html","title":"通过界面安装 openpilot 分支版本","keywords":"","body":"通过界面安装 openpilot 分支版本 简介 因为大部分用户并不是专业人员，不会通过 ssh 操作切换第三方的 fork，所以我根据官方的 openpilot 安装方式改写了这个项目，使 openpilot 的非官方 fork 安装也可以通过界面操作完成。 由于国内网络访问 github 的速度不佳，我制作了这个存储在 gitee 上的 openpilot 代码镜像项目，当你通过这种方式安装 openpilot 的时候，程序会根据你的网络自动选择代码的下载地址（github 或者 gitee），从而解决了安装速度慢的问题。 支持的 fork fork github Software Url commaai https://github.com/commaai/openpilot d.sdut.me/op/{分支} afa https://github.com/rming/openpilot d.sdut.me/afa/{分支} dragonpilot https://github.com/dragonpilot-community/dragonpilot d.sdut.me/dp/{分支} kegman https://github.com/kegman/openpilot d.sdut.me/kegman/{分支} gernby https://github.com/gernby/openpilot d.sdut.me/gernby/{分支} arne https://github.com/arne182/openpilot d.sdut.me/arne/{分支} 备注： fork 又叫做 分叉, branch 又叫做 分支 所以，一个 fork 的安装地址就变成了如下的格式： # d.sdut.me/{FORK}/{BRANCH} d.sdut.me/{分叉}/{分支} 以 kegman 项目举例，如果我们想安装 kegman-0.7.3 分支，那么我们在 Software Url 界面应该填入的地址就是： d.sdut.me/kegman/kegman-0.7.3 以 dragonpilot 项目举例，如果我们想安装 devel-zhs 分支，那么我们在 Software Url 界面应该填入的地址就是： d.sdut.me/dp/devel-zhs 备注：这里的 dp 是 dragonpilot 的简写，当然，你也可以写 d.sdut.me/dragonpilot/devel-zhs 安装官方版本就变成了： d.sdut.me/op/release2 使用方法 如果你是在安装 NEOS 系统后第一次进入 openpilot，那么可以直接输入上述地址即可。 NEOS 系统安装参考： Windows 下手动分布安装 openpilot 教程 Windows 下一键安装 openpilot 教程 macOS 下手动安装 openpilot 教程 如果你已经安装了 openpilot，那么你可以通过先 卸载 openpilot，然后重新回到输入 Software Url 的界面，输入上述地址即可。 安装脚本更新 上述 fork 还在不断更新，程序会每半小时抓取一次 git 项目里的 新增分支，然后生成对应的安装脚本，并上传到服务器。 如果你发现安装地址有任何问题，或者有什么建议需要反馈，请 联系我们。 相关源码 https://d.sdut.me/installers https://github.com/rming/openpilot/tree/installer https://github.com/Rming/openpilot.download Copyright © all right reserved，powered by Gitbook本站已停止维护，本页最后更新： 2020-03-06 12:18:10 "},"cn/how_to_connect_openpilot_via_iphone.html":{"url":"cn/how_to_connect_openpilot_via_iphone.html","title":"iPhone 手机上 SSH 连接到 openpilot","keywords":"","body":"iPhone 手机上 SSH 连接到 openpilot EON 端设置 打开 \"设置 - 网络 - 共享网络设置\" 打开 \"设置 WLAN 热点\"，设置 共享 WIFI 的密码 打开 \"便携式 WIFI 开关\" iPhone 上 SSH 客户端设置 连接刚才在 EON 上共享的 WIFI 信号（如果没有更改，默认是 weedle-xxxxx，密码是你刚才设置的密码） 点击网络连接，查看 路由器IP地址 （通常是 192.168.43.1，这就是 EON 的IP） 打开你的 SSH 客户端，填写必要的信息（这里我们使用私钥认证的方式），见下表 保存连接即可 选项 填写 备注 主机 / Host 192.168.43.1 EON 的IP，这里默认是 192.168.43.1 端口 / Port 8022 SSH 端口号，这里默认是 8022 用户名 / Username root 默认 root 私钥 / Private Key -----BEGIN PRIVATE KEY-----MIIEvAIBA ........-----END PRIVATE KEY----- 下载地址：http://d.sdut.me/eonkeys/pem 为私钥文件格式，txt 内容可以在网页里打开复制ppk 格式为客户端 putty 专用 视频中使用的 SSH 软件是 `iOS` 和 `WebSSH app` Copyright © all right reserved，powered by Gitbook本站已停止维护，本页最后更新： 2019-11-20 14:31:01 "},"cn/how_to_flash_openpilot_on_windows.html":{"url":"cn/how_to_flash_openpilot_on_windows.html","title":"Windows 下一键安装 openpilot 教程","keywords":"","body":"Windows 下一键安装 openpilot 教程 重要： 不要在 Android 9.0 系统下解锁刷机！！！ 请先降级到 Android 8.0 系统以下再刷机！！！ 否则会出现 fastboot FAILED (status read failed (Too many links)) 的报错！！ 开启手机 USB 调试 打开 \"设置 - 关于手机 - 版本号\"，连续点击版本号 7 次以上，打开开发者选项设置 重新进入 \"设置 - 开发者选项\"，开启 \"OEM 解锁\" 选项，开启 USB 调试选项 参考视频：一加3T手机开启手机USB调试模式 下载运行一键安装脚本 下载 Windows 一键安装包（v14） 解压并打开目录，运行脚本 flash.bat，按照脚本提示进行操作 参考视频：Windows 下一键安装 openpilot 全纪录 如果一键安装失败，请参考 Windows 下手动分布安装 openpilot 教程 系统初始化设置 手机将在重启后进入 openpilot 系统，但是在使用之前，还需要链接无线WIFI、编译安装openpilot，当然这些都是自动完成的，我们只需要按照界面提示，选择确认即可。 Copyright © all right reserved，powered by Gitbook本站已停止维护，本页最后更新： 2020-02-21 21:52:41 "},"cn/how_to_flash_openpilot_on_windows_step_by_step.html":{"url":"cn/how_to_flash_openpilot_on_windows_step_by_step.html","title":"Windows 下手动安装 openpilot 教程","keywords":"","body":"Windows 下手动分布安装 openpilot 教程 重要： 不要在 Android 9.0 系统下解锁刷机！！！ 请先降级到 Android 8.0 系统以下再刷机！！！ 否则会出现 fastboot FAILED (status read failed (Too many links)) 的报错！！ 开启手机 USB 调试 打开 \"设置 - 关于手机 - 版本号\"，连续点击版本号 7 次以上，打开开发者选项设置 重新进入 \"设置 - 开发者选项\"，开启 \"OEM 解锁\" 选项，开启 USB 调试选项 参考视频：一加3T手机开启手机USB调试模式 安装驱动 adb 和 fastboot 安装工具下载 一加手机3T工具箱 V2.0.0 下载 上面提供的 2 个软件功能重叠，可全安装，或者只选择第 \"一加手机3T工具箱V2.0.0\" 安装。 一加手机3T工具箱 启动后，选择第 1 项、第 2 项 安装驱动。 解锁 Bootloader 『一加手机3T工具箱』 启动后，可选择第 3 项、第 4 项 可以解锁，如果不确定是否解锁成功，可以使用下列步骤手动解锁。 按住一加手机『音量上』和 『电源键』进入 Fastboot 模式（乐视 pro3 是 『音量下』 和 『电源键』）。 解锁前 和 解锁后 fastboot 界面不同，DEVICE STATE 由 locked 变为 unlocked 在命令行窗口运行 fastboot.exe oem unlock 命令。 操作手机，选择解锁 Bootloader（音量键选择，电源键确认）。 等待手机重启并解锁 Bootloader 后进入系统。 刷写 NEOS 系统 按住一加手机『音量上』和 『电源键』进入 Fastboot 模式（乐视 pro3 是 『音量下』 和 『电源键』）。 下载你所需要版本的 NEOS 系统镜像（v版本号越大，版本越新：NEOS 系统下载） 解压并将 boot.img 和 system.simg 放到 c 盘尽量短的目录内 打开命令行，进入到 fastboot 目录，运行刷写固件的命令fastboot.exe flash boot c:\\tmp\\v12\\boot.img fastboot.exe flash system c:\\tmp\\v12\\system.simg fastboot.exe erase userdata fastboot.exe erase cache 写入完成后，使用命令 或 操作手机，重启即可进入 openpilot fastboot.exe reboot 系统初始化设置 手机将在重启后进入 openpilot 系统，但是在使用之前，还需要链接无线WIFI、编译安装openpilot，当然这些都是自动完成的，我们只需要按照界面提示，选择确认即可。 Copyright © all right reserved，powered by Gitbook本站已停止维护，本页最后更新： 2019-12-15 22:05:31 "},"cn/how_to_flash_openpilot_on_mac.html":{"url":"cn/how_to_flash_openpilot_on_mac.html","title":"macOS 下手动安装 openpilot 教程","keywords":"","body":"macOS 下手动安装 openpilot 教程 重要： 不要在 Android 9.0 系统下解锁刷机！！！ 请先降级到 Android 8.0 系统以下再刷机！！！ 否则会出现 fastboot FAILED (status read failed (Too many links)) 的报错！！ 开启手机 USB 调试 打开 \"设置 - 关于手机 - 版本号\"，连续点击版本号 7 次以上，打开开发者选项设置 重新进入 \"设置 - 开发者选项\"，开启 \"OEM 解锁\" 选项，开启 USB 调试选项 参考视频：一加3T手机开启手机USB调试模式 安装 NEOS 系统 打开官方地址：https://github.com/commaai/eon-neos 按照 Restoring on OS X 步骤操作，安装软件 确保已经安装了 Homebrew （https://brew.sh） 运行下列命令，安装必要软件# 解压、压缩系统镜像要用 brew install unzip simg2img # # fastboot 和 adb 工具 brew cask install android-platform-tools 按住一加手机『音量上』和 『电源键』进入 Fastboot 模式（乐视 pro3 是 『音量下』 和 『电源键』）。 使用 git clone https://github.com/commaai/eon-neos 项目，并打开目录、运行 ./download.py 下载系统镜像 系统镜像下载完成后，手机（处于 fastboot 模式）通过 USB 连接到电脑，运行 ./flash.sh 不要断开你的手机，直到脚本运行结束，刷机完成 Copyright © all right reserved，powered by Gitbook本站已停止维护，本页最后更新： 2019-12-15 22:05:40 "},"cn/how_to_downgrade_neos.html":{"url":"cn/how_to_downgrade_neos.html","title":"NEOS 降级指南","keywords":"","body":"NEOS 降级指南 NEOS 是运行在 EON 上的，基于 Android 6.0 改造的系统，为了适配 openpilot 的版本更新， NEOS 系统也在不断的更新，新版本的 NEOS 没有开源系统代码，但是官方会在 Github 释放出下载链接，如果你的系统安装了新版的 openpilot，也会收到系统升级提示，可以通过点击升级按钮升级系统。 commaai/eon-neos：https://github.com/commaai/eon-neos neos 镜像下载地址（boot.img 和 system.simg）：http://d.sdut.me/neos 系统版本 但是有时候，我们需要运行旧版本的 openpilot，但新版本的 NEOS 系统无法正常使用，所以需要先降级 NEOS，然后安装 旧版本 openpilot。 备注：比如，你需要运行 arne-0512 版本，那么你需要下载安装 NEOS 9，然后安装 openpilot。 下表是 openpilot 版本和 NEOS 版本的对应关系： openpilot 版本 NEOS 版本 0.5.xx 9 0.6.0 ~ 0.6.3 10.3 0.6.4 10.4 0.6.5 ~ 0.6.6 12 0.7.0 13 0.7.1 ~ 0.7.3 14 其中，NEOS 12 以下的版本都是 Python 2 环境，NEOS 12 以上则完全使用了 Python 3 环境，NEOS 13 加入了 SCons 工具，系统版本和 NEOS 版本可以通过一下命令查询： # 查询 NEOS 主版本号 root@localhost:/$ cat /VERSION 10 # 查询 NEOS 子版本号，可能不存在这个文件，比如 v12 系统中 root@localhost:/$ cat /REVISION 3 # 查询 NEOS 主版本号 root@localhost:/$ python --version Python 2.7.16 # 查询 openpilot 版本号 root@localhost:/$ cat /data/openpilot/selfdrive/common/version.h #define COMMA_VERSION \"0.6.2-release\" # 查询 panda 版本号 root@localhost:/$ cat /data/openpilot/panda/VERSION v1.4.2 降级步骤 确保你的电脑上安装了 最新版的 Fastboot（fastboot 下载地址）。 手机解锁了 bootloader，并且获得了 root 权限（B 站参考视频）。 下载你所需要版本的系统镜像（boot.img 和 system.simg，NEOS 镜像下载地址）。 按住一加手机『音量上』和 『电源键』进入 Fastboot 模式（乐视 pro3 是 『音量下』 和 『电源键』）。 手机通过 USB 数据线连接到电脑。 把 boot.img、system.simg 和 fastboot.exe 一个目录里。 执行如下命令：# flash boot and system fastboot flash boot boot.img fastboot flash system system.simg # # clear userdata fastboot erase userdata fastboot format cache fastboot reboot 重启 EON 后输入 WIFI 密码，连接到无线网络（查看下 EON 的IP备用），输入安装地址：https://openpilot.comma.ai，等待安装完成 openpilot 安装完成后会重启，重启后会出现升级界面，一定不要点升级！！ SSH 进入到 EON，使用如下命令安装你需要安装的 openpilot 版本：# 删除默认安装的新版本 openpilot cd /data rm -rf openpilot # # 安装旧版本的 openpilot fork git clone https://gitee.com/afaaa/kegman cd openpilot git checkout {你所需要使用的版本分支} # # 编译旧版本的 openpilot # 0.7 之前的版本使用 make scons -i # #等待编译完成后，重启 reboot Copyright © all right reserved，powered by Gitbook本站已停止维护，本页最后更新： 2020-03-06 10:36:19 "},"cn/how_to_flash_panda.html":{"url":"cn/how_to_flash_panda.html","title":"Panda 固件更新教程","keywords":"","body":"Panda 固件更新教程 简明教程 # flash panda pkill -f boardd && cd /data/openpilot/panda/board && make # reboot eon reboot 注意：在新版本的 openpilot 和 NEOS 中，建议使用 comma power 或者 debug board 为 panda 供电的情况下更新固件，因为有部分用户反映，在 panda 连接 汽车OBD 的情况下更新固件，会遇到一些报错。 通过 EON 自动更新固件 从 Giraffe 上断开 Panda 汽车熄火断电，把 Panda 插到汽车的 OBD2 接口上 EON 关机，通过 USB 数据线连接到 Panda EON 连接到 Panda 后会触发通电自动开机 Panda 会闪一会绿灯 当 Panda 闪红灯的时候，就是固件更新完毕了 把 Panda 从汽车 OBD2 上拔下来，插回到 Giraffe 上 这可能是为 Panda 更新固件最简单的方法了。 备注/异常处理： 当 Panda 闪绿灯的时候，表示 EON 正在为 Panda 更新固件，但是 grey Panda 从一插到 OBD2 接口上就开始闪绿灯（不知道通电后 Panda 在搞什么），然后几秒钟后绿灯不闪了，过一会儿（就进入正常流程了），又开始闪绿灯，几秒钟后，Panda 开始闪红灯。 如果 Panda 插在 OBD2 上更新固件有问题，那么你需要把它从 OBD2 上拔下来，用 debug board 或者 comma power + Giraffe(从车上拔下来) 为 Panda 供电，总之就是排除因为 CAN 总线通信的干扰。 通过 EON 手动更新固件 汽车熄火断电（译者注：Panda 需要 Comma power 供电） 进入 EON 的 ssh 执行命令 cd /data/openpilot/panda ; pkill -f boardd ; PYTHONPATH=..; python -c \"from panda import Panda; Panda().flash()\" 如果上面的命令报错，则尝试下面这个： cd /data/openpilot/panda/board && make recover 通过 USB 手动更新固件 硬件设备： Panda Paw 这是最可靠的方式了，前提是你得有 Panda Paw 。 首先，Panda 进入固件更新模式(DFU): Panda Paw 电源开关关闭 Panda Paw 的一端插到 Panda 上 把 Panda Paw 的 Mini USB 接口接到 笔记本 USB 打开 Panda Paw 电源开关的同时，长按 boot 按钮 然后在 linux 上或者 mac 上运行如下指令，为 panda 更新固件： # 在电脑上安装 pandacan sudo pip install --upgrade pandacan # 更新固件 PYTHONPATH=\"\" sudo python -c \"import panda; panda.flash_release()\" 通过 WIFI 使用 curl 手动更新固件 这是在 linux 下最简单的操作方法，可以参考Github 上 Panda 的 Makefile 和 社区的帮助： Panda 连接到 12V 电源，保证没有 CAN 信号传入到 Panda（汽车一定不能启动），除非你能发送 0x7F 阻止 CAN 信号，否则固件升级会失败（参考 69 和 97） 记下你的 Panda wifi 名字 和 密码 (用 chffr) 从 Github 下载固件并解压 通过 WIFI 连接到 Panda 打开命令行，切换目录到固件目录（比如：cd ~/Downloads） 执行如下命令，当看到 Panda 闪灯后，再执行下一个命令： curl http://192.168.0.10/ curl http://192.168.0.10/espupdate2 --upload-file user2.bin curl http://192.168.0.10/stupdate --upload-file panda.bin curl http://192.168.0.10/espupdate1 --upload-file user1.bin 刷完 panda.bin 后， Panda 的灯应该是快速闪烁的（可能是多个颜色） 如果还有什么不明白的，可以参考对照这个视频。 Copyright © all right reserved，powered by Gitbook本站已停止维护，本页最后更新： 2019-10-30 11:20:14 "},"cn/Creating_Fingerprints.html":{"url":"cn/Creating_Fingerprints.html","title":"采集车辆指纹信息","keywords":"","body":"采集车辆指纹信息 OpenPilot 通过对比 CAN 信号读取到的车辆指纹信息 与 已知的指纹列表 识别当前连接的什么车型（/data/openpilot/selfdrive/car/{汽车厂商}/values.py 文件中的指纹信息列表）。 现在，同一型号的不同配置车型有时候会有不同的指纹信息，如果 openpilot 还没有包含你车辆的指纹信息，那么你需要自己创建一个指纹信息。 如果你的 EON 开机并联网，你可以使用 Workbench 在局域网里搜索到你的 EON，SSH 连接进去，抓取车辆指纹（EON 需要连接到车上）。 操作步骤： 车辆熄火后，通过 Giraffe 把 PANDA 连接到车上，EON 连接到 PANDA 上。 把 Giraffe 设置成 原车模式（stock mode）（你需要采集原车发送的 CAN信号数据 ，而不是 openpilot 的） SSH 连接到 EON，在两个会话窗口中分别运行下面 2 个命令/data/openpilot/selfdrive/boardd/boardd cd /data/openpilot/selfdrive && PYTHONPATH=/data/openpilot PREPAREONLY=1 /data/openpilot/selfdrive/debug/get_fingerprint.py 启动汽车，等大约 20 秒钟，确保可以得到如下的全部DBC消息： number of messages 53: fingerprint 2: 8, 64: 8, 65: 8, 72: 8, 73: 8, 280: 8, 281: 8, 290: 8, 312: 8, 313: 8, 314: 8, 315: 8, 316: 8, 326: 8, 544: 8, 545: 8, 546: 8, 552: 8, 554: 8, 557: 8, 576: 8, 577: 8, 722: 8, 801: 8, 802: 8, 805: 8, 808: 8, 816: 8, 826: 8, 837: 8, 838: 8, 839: 8, 842: 8, 912: 8, 915: 8, 940: 8, 1614: 8, 1617: 8, 1632: 8, 1650: 8, 1657: 8, 1658: 8, 1677: 8, 1697: 8, 1743: 8, 1759: 8, 1785: 5, 1786: 5, 1787: 5, 1788: 8, 2015: 8, 2016: 8, 2024: 8 熄火并重新启动几次，确保接收到了全部消息（某些消息仅在启动时发送）。 + C 关闭程序. 将从第3步中获得的 DBC消息 复制到 /data/openpilot/selfdrive/car/{汽车厂商}/values.py 文件的 \"FINGERPRINTS\" 部分（创建新的车型，或者暂时覆盖之前已经存在的车型）。 汽车熄火，重启 EON。 Copyright © all right reserved，powered by Gitbook本站已停止维护，本页最后更新： 2019-11-27 16:53:47 "},"cn/fingerprints2.html":{"url":"cn/fingerprints2.html","title":"抓取车辆指纹2.0","keywords":"","body":"抓取车辆指纹2.0 使用电脑连接到 EON 并打开 SSH 窗口[1]：killall tmux 启动车辆，在 SSH 窗口[1]输入cd /data/openpilot/selfdrive/boardd ./boardd 新打开一个 SSH 窗口[2]输入cd /data/openpilot/selfdrive/car/ python fw_versions.py --scan 等待命令执行结束Found FW versions { ... } 以上内容就是你的车辆指纹2.0 Copyright © all right reserved，powered by Gitbook本站已停止维护，本页最后更新： 2020-05-12 16:25:26 "},"cn/eon_usb_eth0.html":{"url":"cn/eon_usb_eth0.html","title":"EON USB 有线网卡设置","keywords":"","body":"EON USB网卡设置 comma smays 是 EON 连接有线调试的工具，据说 comma smays 用的网卡啊也是 ax88772 芯片的，我就淘宝找了一个 20 块钱的同款芯片 USB 网卡试了试，结果真的是免驱可用，这里记录一下使用过程，不确定其他芯片的网卡情况。 参数对比 选项 comma smays ax88772 USB 网卡 图片 芯片 （ax88772）据说 ax88772(A/B/C) 我用的 C 款 供电线 自带，一体的 通过 USB公对公连接任意 USB 口供电（5V） OTG口 Micro USB 通常是 Type-C 的，一共用了 4 根线，可以自己改 Micro USB 价格 官方 60 美元，淘宝 200 RMB 20 RMB 购买 官方链接 淘宝链接 淘宝链接 （买带 3 USB 口版本） Comma Smays 与 其他 ax88772 网卡对比（淘宝链接没有利益关系，仅供参考） 静态 IP 模式 EON 默认开启的是静态 IP 模式，我们可以通过 ifconfig 命令更改 IP 和 子网掩码： # 默认状态 root@localhost:/$ ifconfig eth0 eth0 Link encap:Ethernet HWaddr 00:6F:00:00:07:5F inet addr:192.168.5.11 Bcast:192.168.5.255 Mask:255.255.255.0 UP BROADCAST RUNNING MULTICAST MTU:1500 Metric:1 RX packets:6217 errors:0 dropped:0 overruns:0 frame:0 TX packets:597 errors:0 dropped:0 overruns:0 carrier:0 collisions:0 txqueuelen:1000 RX bytes:700037 (683.6 KiB) TX bytes:109469 (106.9 KiB) # 更改静态IP root@localhost:/$ ifconfig eth0 192.168.2.201 # 更改子网掩码 root@localhost:/$ ifconfig eth0 netmask 255.255.254.0 # 启用网卡 root@localhost:/$ ifconfig eth0 up # 更改后状态 root@localhost:/$ ifconfig eth0 eth0 Link encap:Ethernet HWaddr 00:6F:00:00:07:5F inet addr:192.168.2.201 Bcast:192.168.3.255 Mask:255.255.254.0 UP BROADCAST RUNNING MULTICAST MTU:1500 Metric:1 RX packets:9285 errors:0 dropped:0 overruns:0 frame:0 TX packets:1725 errors:0 dropped:0 overruns:0 carrier:0 collisions:0 txqueuelen:1000 RX bytes:1328793 (1.2 MiB) TX bytes:312694 (305.3 KiB) DHCP 客户端模式 EON 可以开启 USB 网卡的 DHCP 客户端模式，操作步骤如下： USB 网卡通过 Type-C (Micro USB) 连接到 EON，USB 网口中插入网线，保证网络连接正常 EON 通过无线接入到局域网，电脑端通过 SSH 进入 EON 在 EON 的 SSH 里执行 dhcptool eth0 启动 eth0 的 DHCP 客户端功能，命令会阻塞直至 DHCP 开启成功 在 EON 的 SSH 里执行 ifconfig eth0 查看当前有线网卡的连接情况root@localhost:/$ ifconfig eth0 eth0 Link encap:Ethernet HWaddr 00:6F:00:00:07:5F inet addr:192.168.2.201 Bcast:192.168.3.255 Mask:255.255.254.0 UP BROADCAST RUNNING MULTICAST MTU:1500 Metric:1 RX packets:6393 errors:0 dropped:0 overruns:0 frame:0 TX packets:651 errors:0 dropped:0 overruns:0 carrier:0 collisions:0 txqueuelen:1000 RX bytes:736167 (718.9 KiB) TX bytes:118645 (115.8 KiB) 192.168.2.201 即我们的有线网卡IP 重启 EON，只连接有线网卡（关闭无线网卡，有线、无线同时工作会有网络延迟异常的情况） Copyright © all right reserved，powered by Gitbook本站已停止维护，本页最后更新： 2019-11-13 11:13:32 "},"cn/openpilot_enable_wifi_hotspot.html":{"url":"cn/openpilot_enable_wifi_hotspot.html","title":"EON 开机自动开启 WIFI 热点","keywords":"","body":"EON 开机自动开启 WIFI 热点 如果你的 EON 里装了 sim 卡，并且流量很多，可能会想车里的其他设备通过 EON 共享 WIFI 上网，EON 是可以设置 开机自动开启 WIFI 共享的。 # ssh 连接到设备 ssh eon # 编辑引导文件 vi /data/data/com.termux/files/continue.sh # 在第二行出插入下面一行代码 service call wifi 37 i32 0 i32 1 # 重启 EON reboot Copyright © all right reserved，powered by Gitbook本站已停止维护，本页最后更新： 2019-10-30 11:20:14 "},"cn/Oneplus3t_tri_state_key_switch.html":{"url":"cn/Oneplus3t_tri_state_key_switch.html","title":"一加3T三段式开关切换 openpilot 版本","keywords":"","body":"一加3T三段式开关切换 openpilot 版本 通过SSH登录到EON中，把 openpilot 不同版本的代码克隆到 /data/forks 目录下，然后根据自己的需求修改 PATH_FORK_{N} 的路径即可。 修改文件存储目录：第 4 行 修改不同版本OP目录：5 ~ 7 行（分别对应三段开关） #!/usr/bin/env bash # 配置每个 fork 目录位置 PATH_FORK=/data/forks PATH_FORK_1=${PATH_FORK}/gernby PATH_FORK_2=${PATH_FORK}/openpilot PATH_FORK_3=${PATH_FORK}/dragonpilot switch=`cat /sys/devices/virtual/switch/tri-state-key/state` VAR_OP_PATH=`eval echo \"$\"\"PATH_FORK_${switch}\"` OP_PATH=${VAR_OP_PATH} ENV_OP_PATH=/data/openpilot # 处理旧版本 if [ ! -L \"${ENV_OP_PATH}\" ]; then ms=`date +%s_%N` mv \"${ENV_OP_PATH}\" \"${PATH_FORK}/backup_${ms}\" fi # 处理软链 rm -f ${ENV_OP_PATH} ln -sf ${OP_PATH} ${ENV_OP_PATH} # 启动 openpilot cd ${ENV_OP_PATH} exec ./launch_openpilot.sh 脚本下载：https://gist.github.com/Rming/c8af432cede79a18a5eee1048b95d7bb Copyright © all right reserved，powered by Gitbook本站已停止维护，本页最后更新： 2019-10-12 13:29:37 "},"cn/Oneplus3t_wifi_mac_02_00.html":{"url":"cn/Oneplus3t_wifi_mac_02_00.html","title":"一加3T手机WIFI mac 丢失问题","keywords":"","body":"一加3T手机WIFI mac 丢失问题 重要： 不要在 Android 9.0 系统下解锁刷机！！！ 请先降级到 Android 8.0 系统以下再刷机！！！ 否则会出现 fastboot FAILED (status read failed (Too many links)) 的报错！！ 同时会导致 mac 丢失的问题！！ 起因 最近在对一加3T手机刷机过程电脑突然报了一个错误信息，usb_read failed with status e00002eb，然后刷机进程就中断了。 重试刷机后，虽然刷机过程一切正常，但是手机出现了一个奇怪的问题，起先在 Android 系统下，一切正常，WIFI地址获取正常、蓝牙开关连接正常，但是刷完 Openpilot 以后， 发现 WIFI 无法正常使用，WIFI mac 地址 变成了 02:00:00:00:00:00，并且无法打开 WIFI 连接。 WIFI 无法连接，那我怎么去下载 Openpilot 呢，怎么连接手机 SSH 进行操作呢，真的是只能离线使用了。 有微信群友建议使用 usb-eth 连接手机，我找到了一个 usb-eth 但是尝试后发现，手机并不能识别我的这个 USB网卡，可能是 NEOS 目前只支持特定网卡芯片驱动的原因。 探究原因 后来得知，一般出现莫名其妙的刷机问题，都有可以通过 9008救砖工具 解决，于是找了一台 Windows 台式机，尝试使用工具修复，但是修复完毕后，在使用 TWRP 恢复备份的时候，又出现了 Failed to mount '/persist'(Invalid argument) 的报错提示。 由 TWRP 的报错得知，可能出问题的是手机 persist 分区，经过一番了解： persist分区是用于保存FRP(factory reset protcect)功能用到帐号、密码等受保护的信息，避免在恢复出厂设置后被清空。 什么是Persist分区：Persist分区是系统的一个ext4分区，由于我们的线刷包都不包含这个分区，所以你需要自己动手修复，这个分区内包含DRM相关文件、传感器注册表、你的wifi、蓝牙、mac地址都在这里了。 一般解锁手机都要强制禁止访问PERSIST分区中的账号信息，因此需要配合修改版的系统，让系统不读取账号信息也能工作（原生安卓表示你们都是渣渣） 检查系统persist分区或主板硬件wf模块persist分区里面有个文件persist.img管蓝牙和wf的 Persist: persist分区是系统的一个ext4分区，这个分区内包含DRM相关文件、传感器注册表、你的wifi、蓝牙、mac地址都在这里了，如果你发现指南针不动了，陀螺仪没反应了，相机打开要好几秒了，那么恭喜你，多半是Pensist分区问题 解决问题 于是找微信群大佬们导出了别人手机里的 persist.img 镜像，然后倒入到我的手机里，然后重启进入系统，问题解决了，不过因为倒入的是别人手机的 persist 分区信息，所以，我的手机 WIFI mac 地址变得和别人一样，但是并无大碍。 从正常使用的手机中导出 persist.img 镜像到电脑 找到一台可以正常使用的手机，连接到电脑，开启 adb 调试，重启进入 TWRP 模式，在电脑端命令行运行： # 把 persist 镜像备份到 /sdcard/persist.img adb shell \"dd if=/dev/block/bootdevice/by-name/persist of=/sdcard/persist.img\" # 把 persist.img 镜像 下载到电脑上 adb pull /sdcard/persist.img ~/ 把 persist.img 镜像导入到 mac 丢失的手机 丢失 mac 的手机，连接到电脑，开启 adb 调试，重启进入 TWRP 模式，在电脑端命令行运行： # 把 persist.img 镜像 上传到手机 adb push ~/persist.img /sdcard/persist.img # 把 persist.img 镜像写入 persist 分区 adb shell \"dd if=/sdcard/persist.img of=/dev/block/bootdevice/by-name/persist\" # 重启手机 adb shell reboot 这里操作的是 persist 分区，其他分区（firmware、dsp、bt_firmware）也是一样的原理，替换分区名字就可以了。 Copyright © all right reserved，powered by Gitbook本站已停止维护，本页最后更新： 2020-03-04 14:43:54 "},"cn/openpilot_partition_backup.html":{"url":"cn/openpilot_partition_backup.html","title":"一加3T手机分区一键备份恢复工具","keywords":"","body":"EON 手机分区一键备份恢复工具 因为自己碰到了 一加3T手机WIFI mac 丢失问题，而且最近在微信群里也有其他朋友出现了类似情况，让我觉得备份手机的一些分区是非常重要的，可以在手机出现一些奇怪的问题是，进行恢复使用。 因此，自己写了一个脚本，用来备份和恢复系统的一些分区（可能这些分区是闻所未闻，平时也不会操作的，但是一旦分区出现了问题，也可能影响手机正常使用）。 Github: openpilot_partition_backup 使用教程 如果手机可以开机，并且可以通过 SSH 连接到手机操作，如果手机无法正常开机，则重启手机进入TWRP模式下操作。 开机SSH状态下的操作步骤 手机正常开机并联网 电脑通过局域网连接到手机 SSH # 把脚本下载到 /sdcard 目录（可选，因为用户目录不可写） cd /sdcard/ # 下载脚本 zip 包 wget https://github.com/Rming/openpilot_partition_backup/archive/master.zip # 解压 zip 包，打开脚本目录 unzip master.zip && cd openpilot_partition_backup-master # 运行程序 bash partition_backup.sh 在TWRP模式下的操作步骤 手机连接到电脑，开启 adb 调试、解锁 bootloader，重启进入 TWRP 模式 在电脑端命令行运行： # 下载脚本文件 zip 包 wget https://github.com/Rming/openpilot_partition_backup/archive/master.zip # 解压 zip 包 unzip master.zip # 把脚本文件上传到手机 /sdcard adb push openpilot_partition_backup-master /sdcard/ # 进入手机 shell adb shell 在手机 shell 中运行 source /sdcard/openpilot_partition_backup-master/bash_init.sh bash /sdcard/openpilot_partition_backup-master/partition_backup.sh 演示 下载脚本并备份 persist 分区 备份所有分区 使用备份恢复 persist 分区 使用备份恢复所有分区（没有镜像自动跳过） Copyright © all right reserved，powered by Gitbook本站已停止维护，本页最后更新： 2020-03-06 10:39:34 "},"cn/openpilot_failed_to_authenticate.html":{"url":"cn/openpilot_failed_to_authenticate.html","title":"failed to authenticate 和 无法绑定账户问题","keywords":"","body":"failed to authenticate 和 无法绑定账户问题 一些手机设备安装好 NEOS 系统后，输入 openpilot.comma.ai 重启以后，出现设备黑屏的情况。 SSH 进入命令行后，通过 tmux at 查看，发现有 openpilot failed to authenticate 的报错，无法正常通过commaai 的 pilotauth 接口注册。 getting pilotauth failed to authenticate Traceback (most recent call last): File \"/data/openpilot/selfdrive/registration.py\", line 94, in register dongle_id, access_token = dongleauth[\"dongle_id\"].encode('ascii'), dongleauth[\"access_token\"].encode('ascii') KeyError: 'dongle_id' Traceback (most recent call last): File \"./manager.py\", line 622, in main() File \"./manager.py\", line 598, in main manager_init() File \"./manager.py\", line 313, in manager_init raise Exception(\"server registration failed\") Exception: server registration failed 通过 ssh 进入 eon，tmux at 后看到的报错信息 出现上述问题，根据猜测，可能是以下 2 个原因： commaai 官方已经把你的设备 IMEI 标识为异常设备，无法通过接口注册 DongleId 你的设备之前成功注册过 DongleID，但是后来 persist 分区的 /persist/comma/ 目录下的私钥、公钥丢失了，导致你无法正常通过 comma 的接口重新获取 DongleId 和 AccessToken 不论出现以上哪种情况，因为是服务器端的拒绝访问，所以你只能通过联系 commaai 官方的人员来请求他们更改数据，允许你的设备正常访问 pilotauth 接口。 如果你不需要把设备绑定到你的 comma 账号，只是想解决启动黑屏，让 EON 正常启动可以正常在车上工作，那么你只需要创建两个空的配置文件即可，你并不需要真实的 DongleId touch /data/params/d/AccessToken touch /data/params/d/DongleId 创建好文件后即可重启进入系统。 问题原因探究 EON 每次启动都会请求comma 服务器验证设备的绑定信息，请求的参数包含下列数据： cat /persist/comma/id_rsa.pub cat /persist/comma/id_rsa getprop oem.device.imeicache getprop ro.serialno openpilot 请求服务器时： PUBLIC_KEY + IMEI + SN + JWT_TOKEN --> | Comma Server| [DONGLE_ID, JWT_TOKEN] 其中 JWT_TOKEN = RS256(PRIVATE_KEY + EXPIRE_TIME) 每次开机，openpilot 会用自己根据 私钥 生成的 JWT_TOKEN、公钥、IMEI、SN 去请求 comma 服务器验证 JWT_TOKEN 合法性，服务器返回设备绑定信息（Dongle ID、JWT_TOKEN） 以下是对服务器端验证策略的猜测： 设备第一次请求接口时，服务器端判断，如果 IMEI/SN 没有绑定的 公钥，则进行绑定，这样服务器端就存储了 EON公钥、IMEI、SN 的关联信息。 设备再次请求接口时，服务器端使用 IMEI 作为主索引查询当前 EON 的公钥 去验证 JWT_TOKEN 请求参数 的合法性（JWT_TOKEN 本质是私钥 + 有效期），决定是否返回设备信息（Dongle ID、JWT_TOKEN） 如果在 IMEI 注册完成后，EON 的公钥、私钥信息发生了变更（/persist/comma/id_rsa.pub、/persist/comma/id_rsa 丢失或被修改），那么服务器端就会返回 failed to authenticate 的错误信息。 服务器上可能是存在这样的关联关系： USER_ID Devices {DONGLE_ID、PUBLIC_KEY、IMEI} comma api 的数据结构也可以佐证： device info openpilot auth FOR ENGLISH Auth request openpilot auth request params like this PUBLIC_KEY + IMEI + SN + JWT_TOKEN --> | Comma Server| [DONGLE_ID, JWT_TOKEN] Remark: JWT_TOKEN = RS256(PRIVATE_KEY + EXPIRE_TIME) so if someone want to access your device (write), he need PUBLIC_KEY, PRIVATE_KEY, SN and IMEI. IMEI == username PRIVATE_KEY == password It is easy to understand Issue reason openpilot store the public key and private key in the persist partition. files: /persist/comma/id_rsa.pub /persist/comma/id_rsa so, \"failed to authenticate\" issue maybe caused by persist partition lost or rewrite(factory rewrite without comma id_rsa files). Copyright © all right reserved，powered by Gitbook本站已停止维护，本页最后更新： 2020-03-03 11:18:05 "},"cn/EON_Connector.html":{"url":"cn/EON_Connector.html","title":"EON 快拆底座制作指南","keywords":"","body":"EON 快拆底座制作指南 EON Connector by CloudJ is licensed under the Creative Commons - Attribution license. 因为 EON 手机里有锂电池，不能长时间暴晒在阳光下，如果温度过高有爆炸风险，所以台湾网友 CloudJ 制作了一个磁吸快拆底座，既实现了 EON 的位置固定，又可以方便连接 EON 和 panda 的数据线，避免每次拔插插头的繁琐。 材料列表 名称 数量 用途 图片 参考链接 3D打印底座 1套（公母） 基座框架，固定位置 thingiverse 文件下载 D5*5mm 圆柱磁铁 20个 分别安装到公座和母座上，通过磁力连接固定2个底座 购买链接 M885 10P弹簧针连接器 1套（公母） 通过弹簧针触点的方式，连接 EON 的数据线与 panda 的数据线 购买链接1购买链接2 3M 双面胶 2个 粘贴固定公座到 EON 支架，粘贴固定母座到前挡风玻璃 购买链接 Mini USB 上弯头Mini USB 右弯头 各1条 快拆公座触点连接器连接到 EON快拆母座触点连接器连接到 panda 购买链接 附件：CloudJ 发布的原版材料列表 以上材料属于必需材料，另外还需要一些可选、或者需要但没有列出的工具或者材料： [必需]电烙铁、焊锡丝：用于焊接数据线到弹簧针触点，使连接更可靠 [推荐]热熔胶枪、胶棒：用于填充3D打印底座凹槽，使背面平整，方便用3M胶粘贴 [可选]台钳：用于把圆柱磁铁压入3D打印底座，实际上普通钳子也可以凑活用 [可选]M2外六角螺帽、M2螺丝7mm以上：用于固定弹簧针连接器，实际上不用螺丝已经很牢固了 3D打印底座材料的选择 因为快拆底座的制作材料中，底座框架是需要自己制作的，CloudJ 提供了 stl 文件下载，你可以下载文件，并从淘宝找到 3D 打印服务，当然也可以根据自己的需求，改进原底座的设计。 经过网友们的摸索和尝试，发现打印材料的选择上非常重要，以下是几种常见材料和制作方式的优缺点： 材料 优点 缺点 SLA光敏树脂 乳白色外观，表面光滑，美观，精度足够 材料韧性不够，偏脆，在安装圆柱磁铁的过程中，容易开裂损坏； 温度耐受不高，有被 高温暴晒后变形、变脆的风险不推荐！不推荐！ 7500尼龙 材料韧性很好，在安装圆柱磁铁的过程中很容易压紧固定 黑色外观，精度够用（推荐选择） 胶木CNC加工 材料柔韧性好，安装圆柱磁铁方便紧固，外观美观，表面光滑 加工成本高（不在意成本的话是最佳选择） 以下分别是 SLA 打印、尼龙打印的展示： 磁铁的极向和固定 使用 NS 极交错安装圆柱磁铁 使用 NS 极交错安装圆柱磁铁，这样的防错设计，可以避免磁吸安装过程中方向错误，导致数据线、电源线接错，对汽车电路造成损害。 不过安装过程一定要耐心仔细，确认好了，公座、母座的对应磁铁极向正确，不然磁铁一旦安装完成，取出来可就没那么容易了。 尽量使磁铁安装在同一个平面 尽量使磁铁外露部分保持在一个平面，并且圆柱磁铁不要完全推入到凹槽底座中，使公座、母座的不同极向平面完全接触，这样才能获得最好的吸力，起到更好的固定效果。 其他相关图片 弹簧针连接器焊接接线 热熔胶填充 3M胶固定公座到EON支架 SLA打印底座安装磁铁失败 Copyright © all right reserved，powered by Gitbook本站已停止维护，本页最后更新： 2020-03-04 10:26:55 "},"cn/eon_acrylic_case.html":{"url":"cn/eon_acrylic_case.html","title":"EON 亚克力外壳","keywords":"","body":"EON 亚克力外壳 简介 亚克力版的 EON 外壳是由 @小石头 设计制作的，现已经全部开源，感谢分享！详细的 openpilot 入门教程 和 外壳的设计过程已经在汽车之家有发帖，如果想了解可以参考以下链接： 混动CRV入门openpilot教程系列之一 Openpilot续集，磁吸版EON DIY纪实！ 整个外壳的设计主要包括两部分，分别是 亚克力主体外壳 和 磁吸底座，下面我们分别介绍。 工具 如果你想要根据下面列出的资料自己制作一个外壳，那么除了表格中需要购买的材料外，你还需要具备一些基本的工具： 电烙铁、焊锡丝：用于焊接数据线到弹簧针触点，使连接更可靠 梅花螺丝刀、内六角螺丝刀，方便拧紧螺丝 剪刀、钳子、剥线钳、镊子等方便你操作的工具 根据 亚克力板设计文件 外加工切割亚克力板，单独加工一套一般50以内（或者自己有工厂加工）。 根据 散热板尺寸设计文件 外加工散热板尺寸、开孔，大约30元左右（或者自己有工厂加工）。 亚克力板外壳   亚克力板设计文件下载 亚克力外壳主体主要包括三部分，分别是散热风扇，散热片、亚克力外壳板材和装配所需要的螺丝螺母。 材料名称 图片 参考链接 5CM厚10MM 散热风扇 12V涡轮鼓风机散热风扇此款静音风扇支持 pwm 调速，可后期改装 散热片 尺寸设计文件下载 需要按照尺寸定制切割 2mm 厚 EVA 单面胶垫若干 胶垫eva泡棉单面胶胶带垫在散热片下面，压紧散热片、防止损坏外壳 双 90 度弯头 TypeC 充电线一根 绿联type-c数据线双弯头 亚克力板材若干 亚克力板设计文件下载需要按照设计文件定制加工 M3*20盘头螺丝 5 颗 M3*20盘头螺丝 M3 拉铆螺母 5 颗 M3 拉铆螺母 磁吸底座 底座（上半部分）     底座（下半部分）     效果   材料名称 图片 参考链接 80cm 长红黑导线各一根 - - M3*25 盘头螺丝 2 颗 M3*25 盘头螺丝 M3*35 盘头螺丝 2 颗 M3*35 盘头螺丝 M3 拉铆螺母 4 颗 M3 拉铆螺母 M3*12 沉头螺丝 8 颗 M3*12 沉头螺丝 M3 螺母、垫片 8 套 M3 螺母M3 垫片或者M3 带垫螺母 2*6.0 弹性触点 4 粒 2*6.0 弹性触点 2*5.5 弹性触点 8 粒 2*5.5 弹性触点 10*5 中间锥孔磁钢 8 颗，锥孔面 N S 成对 磁铁圆形带孔强磁10*5 定制磁吸 pcb 板两块 PCB 文件下载1.6mm 厚双面绿油无铅玻纤板pcb打样50起不包邮，能得到10片左右pcb焊了弹簧针的是上座，不焊弹簧针的就是下座 亚克力板材若干 亚克力板设计文件下载已包含在设计文件中 PC胶水 PC胶水用于快拆底座组件的粘合固定 加装均热板 如果你觉得散热片的散热效果不明显，可能是因为热量主要集中在手机上半部分（摄像头区域位置），热量无法快速扩散出去，不过可以通过加装均热板，使热量均匀的分布在整个后面板上，配合大散热片的被动散热，效果更佳！    材料名称 图片 参考链接 亚克力边框 2 条加厚外壳边框 亚克力板设计文件下载已包含在设计文件中 140*26*2mm 均热板 2 条 26宽度铝均热板 导热硅脂（可选） 导热硅脂 改装 gopro 固定底座   如果不需要使用磁吸底座，则可以使用此款 gopro 固定底座，可以省略掉很多装配步骤，但是在取下设备的时候需要单独拔掉数据线，不太方便。 材料名称 图片 参考链接 gopro 固定底座 stl 文件 gopro 固定底座 stl 文件需要根据 stl 文件去打印制作 M3*20盘头螺丝 2 颗 M3*20盘头螺丝 M3 螺母、垫片 2 套 M3 螺母M3 垫片或者M3 带垫螺母 安装效果 $(function(){ $('img').each(function(idx, el){ console.log('img each') $(el).click(function(e){ location.href=el.src; }) }) }) Copyright © all right reserved，powered by Gitbook本站已停止维护，本页最后更新： 2020-03-06 13:43:34 "},"cn/how_to_install_raspberrypilot.html":{"url":"cn/how_to_install_raspberrypilot.html","title":"raspberry-pilot 安装指南","keywords":"","body":"raspberry-pilot 安装指南 硬件要求 本田 Bosch 车型（雅阁、CRV 等） Giraffe + Panda (Harness + BlackPanda 也可以) 树莓派4B裸板（内存 2G 以上最好） 16G 以上内存卡 + 读卡器（Micro SD，推荐 class 10 或更好的卡） 树莓派保护壳（可选，建议使用纯散热片的那种，安静，主要起散热作用） Type-A to Type-C 数据线（用于连接树莓派和 Panda，给树莓派供电，长一点好，我用的3米的） 自用 sd 卡性能测试 树莓派安装 ubuntu server 系统 Ubuntu Server 18.04.4 镜像：下载地址 镜像写入工具：下载地址 下载安装 镜像写入工具 balenaEtcher 下载 Ubuntu Server 18.04.4 镜像 把 SD 卡（读卡器）插入电脑 运行 balenaEtcher，选择镜像 -> 选择 SD 卡 -> 写入 选择镜像，写入 SD 卡 配置 raspberry-pilot 运行环境 通过 SSH 连接到树莓派 把局域网网线插入树莓派有线口（DHCP），然后通过路由器查看获得树莓派的 IP 地址。 SSH 连接到树莓派（默认用户名密码 ubuntu/ubuntu） rming@rmbp:~$ ssh ubuntu@192.168.2.127 ubuntu@192.168.2.127's password: Welcome to Ubuntu 18.04.4 LTS (GNU/Linux 5.3.0-1018-raspi2 aarch64) * Documentation: https://help.ubuntu.com * Management: https://landscape.canonical.com * Support: https://ubuntu.com/advantage System information as of Thu Feb 27 09:37:53 UTC 2020 System load: 1.11 Processes: 139 Usage of /: 5.3% of 116.95GB Users logged in: 1 Memory usage: 14% IP address for eth0: 192.168.2.127 Swap usage: 0% 0 packages can be updated. 0 updates are security updates. Your Hardware Enablement Stack (HWE) is supported until April 2023. Last login: Thu Feb 27 09:37:27 2020 from 192.168.2.120 ubuntu@ubuntu:~$ 下载项目代码、配置代理、修改软件源 # 修改 ubuntu 软件源，使用清华大学源 # **建议修改** sudo sed -i 's/ports.ubuntu.com/mirrors.tuna.tsinghua.edu.cn/g' /etc/apt/sources.list sudo apt update # 为 git 配置全局代理 # **可选，如果你有工具的话，建议设置** # 把 192.168.2.120:1087 换成你的代理地址 git config --global http.proxy 192.168.2.120:1087 # 为命令行工具（wget 等）配置代理 # **可选，如果你有工具的话，建议设置** # 把 http://192.168.2.120:1087 换成你的代理地址 export http_proxy=http://192.168.2.120:1087 export https_proxy=http://192.168.2.120:1087 # 下载 raspberry-pilot 项目代码 cd ~ && git clone https://github.com/Gernby/raspberry-pilot.git # Pipfile 使用国内源 # **可选，推荐设置** sed -i 's|pypi.org|mirrors.aliyun.com/pypi|g' ~/raspberry-pilot/Pipfile # 修改脚本，跳过 lock # **可选，推荐设置** sed -i 's|pipenv install|pipenv install --skip-lock -v|g' ~/raspberry-pilot/finish_install.sh 安装软件环境 bash ~/raspberry-pilot/start_install.sh 运行结束以后，断开 SSH 连接，重新连接一次，进入 shell，在执行下面的命令。 bash ~/finish_install.sh 有些软件下载、安装过程可能很慢，耐心等待（受你的网络和 SD 卡读写速度影响，受限于树莓派的硬件性能）。 Copyright © all right reserved，powered by Gitbook本站已停止维护，本页最后更新： 2020-03-02 18:04:03 "},"about.html":{"url":"about.html","title":"关于本站","keywords":"","body":"关于本站 相关资料 openpilot 安装、使用过程中需要的软件、资料，或者疑问请参考： Openpilot 中文 Wiki Openpilot 软件下载站 Openpilot 国内镜像 [Bilibili] Openpilot-China [YouTube] Openpilot China Donation 感谢所有对项目进行捐助支持的朋友们～ 捐助款项将全部用于 openpilot 相关的 服务器费用、运营支持。 捐助名单见 afa/openpilot 联系方式 如果你有任何问题、建议或者资料要补充，请联系我： 微信：afaaaaaaaaaaa 邮件：rmingwang@gmail.com 友情链接 Community wiki - Comma.ai comma.ai community dragonpilot 中文社区 Copyright © all right reserved，powered by Gitbook本站已停止维护，本页最后更新： 2020-08-27 23:36:49 "},"copyright.html":{"url":"copyright.html","title":"版权声明","keywords":"","body":"版权声明 本站内容主要来源于 Community wiki - Comma.ai 的翻译和补充，补充材料来源于 comma.ai community 讨论内容的翻译总结、dragonpilot 中文社区发帖摘要、微信群聊记录汇总。 如果本站存在的内容存在侵权行为，请 联系我们，我们将移除侵权内容。 本站内容遵循 MIT许可协议，你可以人复制，修改，合并，发布，分发，授权和/或销售 本站内容，但是必须注明本站版权信息。 Copyright © all right reserved，powered by Gitbook本站已停止维护，本页最后更新： 2020-03-06 11:57:41 "}}